{"data":{"children":[{"children":[{"src":"AlipaySDK.bundle/amc.i18n","tag":"meta","type":"i18n"},{"tag":"meta","type":"i18n","locale":{"zh_HK":{"exitCancel":"放弃","exitMsg":"是否放弃本次付款","paymentDetails":"付款詳情","exitOK":"繼續付款"},"zh_TW":{"exitCancel":"放弃","exitMsg":"是否放弃本次付款","paymentDetails":"付款詳情","exitOK":"繼續付款"},"en_US":{"exitCancel":"Quit","exitMsg":"Abandon this transaction?","paymentDetails":"Payment","exitOK":"Continue"},"zh_CN":{"exitCancel":"放弃","exitMsg":"是否放弃本次付款","paymentDetails":"付款详情","exitOK":"继续付款"}}},{"src":"AlipaySDK.bundle/amc.js","tag":"script"},{"src":"AlipaySDK.bundle/amc-usq.js","tag":"script"},{"rel":"stylesheet","tag":"link","href":"AlipaySDK.bundle/amc.css"},{"children":[{"tag":"text","text":"var rpc=amc.rpcData,getTag=amc.fn.getById,hide=amc.fn.hide,show=amc.fn.show,create=amc.fn.create,logAction=amc.fn.logAction,VI_LOG_ACTION_TYPE='VI',bizId='-1',needConfirm=!1,separatorRendered=!1,verifyWithVI=!1,loaded=!1,isResume=!1,gIsBackAct=!1,spmServerParam4Str='{}',gScaleFactor='1',gTitleScale=18,gConfirmBtnHeight=44,gConfirmBtnTop=12,gConfirmBtnTxt=18;function tryJSONParse(t){if(amc.fn.isObject(t))return t;try{return JSON.parse(t)}catch(t){return{}}}function onload(){isPrerender(flybird)||loadData(amc.rpcData)}function loadData(t){loaded||(loaded=!0,initGlobalVariable(t),amc.fn.spmPageCreate('a283.b4036',tryJSONParse(spmServerParam4Str)),init())}function isPrerender(t){return t&&(t.local&&t.local.isPrerender||t.rpcData&&t.rpcData.isPrerender)}function initGlobalVariable(t){rpc=t,window.props.init(),showAggr='Y'===rpc.show_aggr,showLogo=rpc.showLogo||!1,interactType=rpc.interactType||'1',displaySingleProtocol=rpc.protocolName&&rpc.protocolUrl,displayMutilProtocols=amc.fn.isArray(rpc.protocols)||!displaySingleProtocol,rpcVIData=rpc.VIData,verifyWithVI=!!rpcVIData,VIDataForPwdPage=rpcVIData,bizId=flybird.local.bizId||bizId;var e=function(){amc.fn.fetchCache(bizId+'needConfirm',function(t){needConfirm=!(!t||!0!==t.needConfirm)||!!rpc.chargeMsg,verifyWithVI?needConfirm||window.TsBridge.startVIPlugin(rpcVIData,!0):logAction('non-VI',VI_LOG_ACTION_TYPE),amc.fn.putCache(bizId+'needConfirm',{needConfirm:needConfirm},!1)},!1)};amc.isIOS?e():setTimeout(e,20),helpQuery=rpc.helpQuery||'',helpUrl=rpc.helpUrl||'',spmServerParam4Str=amc.fn.isObject(rpc.spmObj)?JSON.stringify(rpc.spmObj):'{}',!amc.isSDK&&amc.fn.sdkGreaterThanOrEqual('10.8.29')&&(gScaleFactor=document.getCustomAttr('scaleFactor')||'1',gTitleScale={0:17,1:18,2:19,3:20,4:21}[gScaleFactor],gConfirmBtnHeight={0:44,1:44,2:46,3:48,4:50}[gScaleFactor],gConfirmBtnTop={0:12,1:12,2:10,3:8,4:6}[gScaleFactor],gConfirmBtnTxt={0:17,1:18,2:19,3:20,4:20}[gScaleFactor]),gIsBackAct='back'===rpc.backAct,window.props.loadData(t)}function init(){try{initUI(),initUsq(),amc.fn.logPageInit&&amc.fn.logPageInit(!0)}catch(t){amc.fn.logPageInit&&amc.fn.logPageInit(!1)}}function asyncSubmitWithMutex(t,e,a){return window.TsBridge.asyncSubmitWithMutex(t,e,a)}function initUsq(){try{var t=amc.fn.getUserId();amc.ext.processCashierCfgDate(t,rpc.cashierCfgData)}catch(t){amc.fn.logError('usq','初始化答题失败'+t)}}function initNav(){var t;showLogo&&(t=amc.path+'alipay_msp_i_logo');var e;amc.fn.spmExposure('a283.b4036.c9695.d17383',tryJSONParse(spmServerParam4Str)),rpc.rightBtn?(e=amc.fn.iNav(gIsBackAct?amc.res.arrowLeft:amc.res.close,rpc.navTitle||'{{paymentDetails}}',rpc.rightBtn,null,window.TsBridge.onClose,window.TsBridge.executeWithPwd,t),getTag('iNavTxtR')&&(getTag('iNavTxtR').alt=rpc.rightBtn),getTag('iNavTxtR')&&(getTag('iNavTxtR').accessibilityTraits='Button'),amc.fn.spmExposure('a283.b4036.c9695.d87354',tryJSONParse(spmServerParam4Str),!1)):(e=amc.fn.iNav(gIsBackAct?amc.res.arrowLeft:amc.res.close,rpc.navTitle||'{{paymentDetails}}',null,amc.res.help,window.TsBridge.onClose,onHelp,t),getTag('iNavImgR')&&(getTag('iNavImgR').alt='{{help}}'),getTag('iNavImgR')&&(getTag('iNavImgR').accessibilityTraits='Button')),e.id='iNav',getTag('body').insertBefore(e,getTag('iLine')),amc.fn.spmExposure('a283.b4036.c9695.d17382',tryJSONParse(spmServerParam4Str),!1),getTag('iNavImgM')&&(getTag('iNavImgM').alt='{{alipay}}');var a=getTag('iNavTitle');a.accessibilityTraits='Header',a.style.fontSize=gTitleScale+'px'}function initUI(){if(initNav(),rpc.cost){var t=getTag('totalCost'),e=rpc.cost||'';rpc.hideRmbIcon?hide(getTag('totalCostImg')):(getTag('totalCostImg').src=amc.path+'alipay_msp_rmb',amc.isIOS&&(getTag('totalCostImg').style.marginBottom='7px'),amc.isAndroid&&(getTag('totalCostImg').style.marginBottom='0px')),t.innerText=e,t.style.maxWidth=window.innerWidth-60,amc.fn.show('totalCostBox')}window.DomUtils.modifyElementAttribute(window.props.getButton(),'buttonText',{accessibilityTraits:'Button'}),window.DomUtils.modifyElementStyle(window.props.getButton(),'buttonText',{fontSize:gConfirmBtnTxt+'px'}),window.DomUtils.modifyElementStyle(window.props.getButton(),'button',{height:gConfirmBtnHeight+'px'}),window.DomUtils.modifyElementStyle(window.props.viPlugin,'buttonContainer',{marginTop:gConfirmBtnTop+'px'});var a=amc.specs.bottomHeight||0,r=amc.specs.iBodyHeight-amc.specs.iNavHeight-68-a;rpc.sloganUrl&&(r-=40),rpc.payTool&&(createPayment(rpc.payTool,rpc.redPoint,rpc.channels),r-=48),rpc.propagate&&rpc.propagate.title?(createPropagate(rpc.propagate),r-=51):rpc.payTool&&(createPaymentBottomLine(),r-=1),showAggr&&(displaySingleProtocol&&(getTag('singleProtocol').innerText=rpc.protocolName,getTag('singleProtocol').accessibilityTraits='Button',show('singleProtocol'),r-=30),displayMutilProtocols&&(getTag('multiProtocol').innerText=rpc.protocolsFoldName||'{{serve_protocol}}',getTag('multiProtocol').accessibilityTraits='Button',show('multiProtocol'),r-=30,displaySingleProtocol&&(getTag('multiProtocol').style.marginTop='5px',r-=5)),show('protocolBox'),r-=20),rpc.account&&(amc.isSDK||rpc.newAccountSwitch)&&createDetail('{{alipay_account}}',rpc.account);for(var i=0;rpc.detail&&i<rpc.detail.length;i++){var o=rpc.detail[i];switch(o.type){case'separator':createSeparatorDetail(),separatorRendered=!0,r-=13;break;case'':default:var n=separatorRendered?getTag('fixedDetailBox'):void 0,c=createDetail(o.info,o.price,o.isDiscount,n);if(separatorRendered&&c&&(r-=32),o.propagate)createPropagate(o.propagate,n)&&(r-=51)}}rpc.productDetailKey&&createDetail(rpc.productDetailKey,rpc.productDetail),rpc.product&&createDetail(rpc.order||'{{order_info}}',rpc.product);var l=0;if(rpc.gonggao){var s=create('div');s.className='amc-marquee amc-pd-lr';var p=amc.fn.getMarquee(rpc.gonggao);s.appendChild(p),p.style.width=window.innerWidth-(amc.isPlus?40:30),getTag('body').insertBefore(s,getTag('iNav')),l=amc.specs.marqueeHeight}var m=Math.max(166-r,0),g=amc.specs.iBodyHeight+l+m,d=Math.min(g,.92*window.innerHeight),f=Math.max(r,166)-(g-d);getTag('scrollableBox').style.maxHeight=f+'px',getTag('body').style.height=d+'px',window.DomUtils.modifyElementStyle(window.props.getButton(),'buttonText',{maxWidth:window.innerWidth-70}),window.TsBridge.payBtnExposure()}function calculateFontWidth(t){if(!t)return 0;for(var e=0,a=/^[A-Za-z0-9\\.\\(\\)]*$/,r=0;r<t.length;r++)a.test(t[r])?e+=.45:e++;return Math.round(e)}function substrWithFontWidth(t,e,a){if(!t)return t;for(var r='',i=0,o=t.length,n=0;n<o;n++){var c=a?t[o-n-1]:t[n];if(/^[A-Za-z0-9\\(\\)]*$/.test(c)?i+=.45:i++,r+=c,e-1<i)break}return r}function shouldShowWithSmallerFont(t,e,a){var r=window.innerWidth-30-72-17*(!!e+0)-17*(!!a+0)-5,i=calculateFontWidth(t);return Math.floor(r/17)<i}function truncatePayment(t,e,a){var r=window.innerWidth-30-72-17*(!!e+0)-17*(!!a+0)-5,i=calculateFontWidth(t),o=Math.floor(r/15);if(o<i){var n=(substrWithFontWidth(t,o-calculateFontWidth(t.substr(-9,t.length)))||'').length;t=amc.fn.stringTruncate(t,n,9)}return t}function createPayment(t,e,a){if(t){a||(e=!1);var r=getTag('anchoredBox');create('div','amc-1px-line',r),amc.fn.show('anchoredBox');var i=create('div','item-box amc-align-center',r),o=create('label','info-text font-color-info',i);o.style.maxWidth='72px',o.innerText='{{pay_tool}}';var n='info-text info-value font-color-primary amc-flex-1 amc-ellipsis';shouldShowWithSmallerFont(t,e,a)&&(n='info-text-s info-value font-color-primary amc-flex-1 amc-ellipsis',t=truncatePayment(t,e,a));var c=create('label',n,i);if(c.innerText=t||'',c.accessibilityTraits='Button',e)create('div','red-point',i).style.marginLeft='8px';if(a){var l=create('div','img-box',i),s=create('img','arrow-img',l);s.src=amc.res.arrowRight;var p=create('img','amc-hidden',l);p.src='indicatior';var m=tryJSONParse(spmServerParam4Str);m.isRed=!!e,i.onclick=function(){var t={action:{name:'/cashier/switchChannel',loadtxt:''},param:{}};t.param.fromCashier=!0,asyncSubmitWithMutex('switchChannel',t,function(t){t=t||{},amc.fn.shouldShowBtnIndicator(t,s,p)})&&(hide(s),show(p)),amc.fn.spmClick('a283.b4036.c9694.d17384',m)},amc.fn.spmExposure('a283.b4036.c9694.d17384',m)}return i}}function createPaymentBottomLine(){var t=getTag('anchoredBox');create('div','amc-1px-line margin-l',t)}function createSeparatorDetail(){create('div','amc-1px-sep-line',getTag('fixedDetailBox')),amc.fn.show('fixedDetailBox')}function createDetail(t,e,a,r){if(!t&&!e)return!1;var i=r||getTag('scrollableBox'),o=create('div','info-box amc-align-cetner',i),n=null;t&&((n=create('label','info-text font-color-info amc-ellipsis'+(a?' font-color-highlight':''),o)).innerText=t);var c=null;(e&&((c=create('label','info-text info-value font-color-primary amc-flex-1 amc-ellipsis'+(a?' font-color-highlight':''),o)).emoji='true',c.innerText=e),n&&c)?17*calculateFontWidth(e)<(window.innerWidth-40)/2?(n.className+=' amc-flex-1',c.style.flex='0'):n.className+=' info-k-w-limit':n?n.className+=' amc-flex-1':c&&(c.style.marginLeft='40%');return!0}function createPropagate(a,t){if(!a||!a.title)return!1;var e=!t,r=t||getTag('anchoredBox');amc.fn.show('anchoredBox');var i=create('div','propagate-inner-container',r);e&&(i.style.cssText='margin-left: 16px; margin-right: 16px;');var o=a.actTitle,n=create('div','item-box-for-propagate amc-align-center amc-flex-1',i);if(rpc.payTool||t){var c=create('img','propagate-arrow',i);c.contentMode='center',c.src=amc.path+'alipay_msp_propagate_arrow'}var l=a.channelLogo;if('money_fund'===l||'ant_credit_pay'===l||a.showIcon||amc.fn.sdkGreaterThanOrEqual('10.8.29')&&'red_bag'===l){var s=create('img','propagate-icon',n);s.src='money_fund'===l?amc.path+'alipay_msp_moneyfund_logo':'ant_credit_pay'===l?amc.path+'alipay_msp_pcredit_logo':'red_bag'===l?amc.path+'alipay_msp_red_bag':amc.path+'alipay_msp_icon_notice'}var p=a.action?n:'',m=null;if(o){m=create('label','info-text-propagate font-color-primary amc-flex-1 amc-ellipsis',n);var g=create('div','item-btn amc-flex-center',n),d=create('label','item-btn-text amc-ellipsis',g);d.innerText=o,d.accessibilityTraits='Button',g.onmousedown=function(){g.style.backgroundColor='#108ee9',d.style.color='#fff'},g.onmouseup=function(){g.style.backgroundColor='#fff',d.style.color='#108ee9'},p=g}else{m=create('label','double-line-for-propagate info-text-propagate font-color-primary amc-flex-1 amc-ellipsis-2-line',n);n.className='item-box-s-for-propagate amc-align-center amc-flex-1'}a.confirmDlg&&a.newTitle?m.innerText=a.newTitle:m.innerText=a.title;var f=tryJSONParse(spmServerParam4Str),u=tryJSONParse(a.spmObj);for(var h in u)f[h]=u[h];return amc.fn.spmExposure('a283.b4036.c9696.d17381',f),p&&(p.onclick=function(){if(a.confirmDlg){var e=a.confirmDlg;document.confirm({title:e.title||'',message:e.message||'',okButton:e.rightTxt||'',cancelButton:e.leftTxt||''},function(t){t.ok?(asyncSubmitWithMutex('dlgOk',{action:e.rightAct},function(t){}),amc.fn.spmClick('a283.b4036.c33398.d66514',f)):(asyncSubmitWithMutex('dlgCancel',{action:e.leftAct},function(t){}),amc.fn.spmClick('a283.b4036.c33398.d66513',f))}),amc.fn.spmExposure('a283.b4036.c33398.d66514',f),amc.fn.spmExposure('a283.b4036.c33398.d66513',f)}else{var t={action:{name:a.action,loadtxt:''}};t.param=a.param,t.param&&(t.param.first_enter_cashier=t.param.first_enter_cashier||!1),asyncSubmitWithMutex('propagate',t,function(t){})&&a.dlg&&setTimeout(function(){window.TsBridge.showDlg({title:void 0,message:a.dlg.dlgTxt,rightTxt:a.dlg.btnRight,leftTxt:a.dlg.btnLeft,rightAction:a.dlg.btnRightAction,leftAction:void 0})},1e3)}amc.fn.spmClick('a283.b4036.c9696.d17381',f)}),!0}function showMultiProtocol(){var t=rpc.protocols||[{text:'{{pcredit_protocol}}',url:'https://ds.alipay.com/credit/infoContract.htm'},{text:'{{pcredit_user_protocol}}',url:'https://ds.alipay.com/credit/hbContract.htm'}];amc.fn.showProtocolList(t)}function showSingleProtocol(){document.submit({action:{name:'loc:openweb(\\''+rpc.protocolUrl+'\\', \\''+(rpc.protocolTitle||'{{serve_protocol}}')+'\\')'}})}function onHelp(){amc.fn.spmClick('a283.b4036.c9695.d17383',tryJSONParse(spmServerParam4Str));var t='https://csmobile.alipay.com/router.htm?scene=app_paymentpage';helpUrl?t=helpUrl:helpQuery&&(t=0===helpQuery.indexOf('&')?t+helpQuery:t+'&'+helpQuery),amc.fn.logCount('help','pay-cfm'),document.submit({action:{name:'loc:openweb(\\''+t+'\\', \\'{{help}}\\')'}})}function onKeyDown(){4==event.which&&window.TsBridge.onClose(!0)}function mergeObjcts(){var t={};if(arguments&&arguments.length)for(var e=0;e<arguments.length;e++){var a=arguments[e];if(amc.fn.isObject(a))for(var r in a)t[r]=a[r]}return t}function onDestroy(){window.props.viPlugin.viPageCloseNotify()}function getPotentialProblems(){var t=!!amc.isAndroid||'YES',e={potentialProblems:[{title:'无法使用红包',requirePicture:t},{title:'无可用的支付方式',requirePicture:t},{title:'需要完善身份信息',requirePicture:t},{title:'其他问题',requirePicture:t}]};return JSON.stringify(e)}document.onreload=function(t){isPrerender(t)||(t&&t.local&&(flybird.local=t.local),t&&t.rpcData?loadData(t.rpcData):verifyWithVI&&(needConfirm||window.TsBridge.startVIPlugin(rpcVIData,!0)))},document.viewDidAppear=function(){isResume?(amc.fn.spmExposureResume(),window.TsBridge.payBtnExposure()):(isResume=!0,amc.fn.postNotification('MQPPreNotification',{biz:'h5ResultPageWebView',progress:'preRender'}))}"}],"tag":"script"},{"children":[{"tag":"text","text":".arrow-img{margin-left:4px;width:8px;max-width:8px}.img-box{width:20px;margin:0 -8px 0 5px;align-items:center}.text-right{text-align:right}.change-discount{color:#108ee9;text-align:right;flex:0}.btn-text{font-weight:bold;color:#108ee9;margin:15px 0}.btn-vertical-line{width:1px;align-self:stretch;margin:7px 0;background-color:#eee}.need-to-pay{width:100px}.agree-label{max-width:100px}.finger-text-l{max-width:160px;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box}.dlg-title{-webkit-line-clamp:4;-webkit-box-orient:vertical;display:-webkit-box}.font-color-highlight{color:#F15A4A}.info-text{font-size:15px}.info-text-s{font-size:14px}.info-text-propagate{font-size:13px}.font-color-info{color:#999}.info-value{text-align:right;margin-left:5px}.info-box{padding-bottom:13px}.info-k-w-limit{max-width:40%}.pd-lr{padding:0 16px}.item-box{height:46px;max-height:46px;min-height:46px;padding:12px 16px}.propagate-inner-container{top:-6px;flex-direction:row;padding-top:7px;align-self:stretch;margin-bottom:4px}.item-box-for-propagate{height:40px;max-height:40px;min-height:40px;padding:0 10px;background-color:#F5F5F5}.item-box-s-for-propagate{height:40px;max-height:40px;min-height:40px;padding:0 10px;background-color:#F5F5F5}.propagate-arrow{position:absolute;width:16px;height:8px;top:0px;left:16px}.propagate-icon{margin-right:8px;height:16px;width:16px}.double-line-for-propagate{height:34px}.item-btn{background-color:#f7fcff;margin-left:5px;border:0.5px solid #108ee9;border-radius:1px;padding:2px 8px;min-height:24px;min-width:48px}.item-btn-text{font-size:13px;color:#108ee9;max-width:90px}.top-pd{height:26px}.red-point{width:8px;height:8px;background-color:#FFFFFF;border-radius:4px;border:4px solid #F4333C}.margin-lr{margin:0 16px}.margin-l{margin-left:16px}.protocol-box{align-items:flex-start;padding:12px 16px 4px}.protocol-link{margin-left:5px}.total-cost{font-size:45px;max-height:65px;padding-bottom:8px;font-family:AlipayNumber}.total-cost-box{height:66px;margin-bottom:20px;justify-content:center;align-items:flex-end}.total-cost-img{height:35px;width:17px;max-width:35px;margin-bottom:8px}.shade{background-color:#fff;opacity:0.90;margin-top:-14px;height:14px}.font-color-primary{color:#333}.amc-1px-line{height:0.5px;background-color:#eee}.amc-1px-title-line{height:0.5px;background-color:#eee}.amc-1px-sep-line{height:0.5px;background-color:#eee;margin-bottom:12px}.slogan-img{height:14px;margin:20px 16px 15px 16px}"}],"tag":"style"},{"children":[{"tag":"text","text":"._Button_0k44-c-text-primary{font-size:18px;color:#fff}._Dialog_gw2w-c-dlg-msg{-webkit-line-clamp:4;-webkit-box-orient:vertical;display:-webkit-box;margin:8px 20px 21px 20px;font-size:16px;line-height:21px}._Dialog_gw2w-c-btn-left-text{color:#108ee9;margin:15px 0}._Dialog_gw2w-c-btn-right-text{font-weight:bold;color:#108ee9;margin:15px 0}._Dialog_gw2w-c-title-margin-b{margin-bottom:0}._Dialog_gw2w-c-dlg-body{background-color:#FFF;border-radius:8px;width:293px}._Dialog_gw2w-c-btn-vertical-line{width:1px;align-self:stretch;margin:0;background-color:#e5e5e5}._Dialog_gw2w-c-dlg-margin-t{height:14px}._VIPlugin_41ao-c-vi-finger{height:72px;max-height:72px;min-height:72px}._VIPlugin_41ao-c-vi-finger-box{justify-content:center}._VIPlugin_41ao-c-bottom-box{justify-content:flex-end;flex:1}._ButtonGroup_1afd-c-pay-btn-box{flex-direction:column;overflow:hidden;padding:12px 16px;min-height:68px;border-radius:2px;justify-content:flex-end}"}],"tag":"style","type":"text/css"},{"children":[{"tag":"text","text":"/*! Built from 6ef1851d53156f3cd37343e13f6f2abdfb2ed262:C */!function(o){var e={};function i(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=o,i.c=e,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&'object'==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,'default',{enumerable:!0,value:n}),2&t&&'string'!=typeof n)for(var e in n)i.d(o,e,function(t){return n[t]}.bind(null,e));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,'a',n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p='',i(i.s=8)}([function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0}),n.amc=window.amc},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var e=o(9);n.BNComponent=e.BNComponent;var i=o(7);n.ComponentRegistry=i.ComponentRegistry;var r=o(11);n.Logger=r.Logger,n.logger=r.logger},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var s=o(0);n.mergeObject=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o={};if(t&&t.length)for(var e=0;e<t.length;e++){var i=t[e];if(s.amc.fn.isObject(i))for(var r in i)i.hasOwnProperty(r)&&(o[r]=i[r])}return o},n.isFunction=function(t){return'[object Function]'===Object.prototype.toString.call(t)},n.isPreRender=function(t){return t&&(t.local&&t.local.isPrerender||t.rpcData&&t.rpcData.isPrerender)},n.copyObj=function(t,n){for(var o in n||(n={}),t)t.hasOwnProperty(o)&&(n[o]=t[o]);return n},n.doNothing=function(){},n.tryJSONParse=function(t){if(s.amc.fn.isObject(t))return t;try{return JSON.parse(t)}catch(t){return{}}},n.checkEmptyObj=function(t){return s.amc.fn.isString(t)?0===t.length:!(t&&0!==Object.keys(t).length)},n.substrWithFontWidth=function(t,n,o){if(!t)return t;for(var e='',i=0,r=t.length,s=0;s<r;s++){var a=o?t[r-s-1]:t[s];if(/^[A-Za-z0-9\\(\\)]*$/.test(a)?i+=.45:i++,e+=a,n-1<i)break}return e},n.calculateFontWidth=function(t){if(!t)return 0;for(var n=0,o=/^[A-Za-z0-9\\.\\(\\)]*$/,e=0;e<t.length;e++)o.test(t[e])?n+=.45:n++;return Math.round(n)},n.deepCopy=function t(n){if(null==n||'object'!=typeof n)return n;var o;if(n instanceof Date)return(o=new Date).setTime(n.getTime()),o;if(n instanceof Array){o=[];for(var e=0,i=n.length;e<i;e++)o[e]=t(n[e]);return o}if(n instanceof Object){for(var r in o={},n)n.hasOwnProperty(r)&&(o[r]=t(n[r]));return o}throw new Error('Unable to copy obj! Its type isn\\'t supported.')},n.getConfig=function(t,n){setTimeout(function(){document.invoke('queryInfo',{queryKey:'configInfo',configKey:t},function(t){n(t.available)})},20)}},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var s=o(0),i=o(2);function e(t,n,o){var e=n;s.amc.fn.isString(n)&&(e=t.getViewInComponentById(n)),e&&i.copyObj(o,e.style)}function r(t,n,o){if(n&&o){var e=n;if(s.amc.fn.isString(n)&&(e=t.getViewInComponentById(n)),e)for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i])}}n.modifyElementStyle=e,n.modifyElementAttribute=r,n.modifyElementClass=function(t,n,o,e){var i=n;s.amc.fn.isString(n)&&(i=t.getViewInComponentById(n)),i&&(e?i.className+=o:i.className=o)},n.visibleElement=function(t,n,o){var e;void 0===o&&(o=!0),n&&(e=s.amc.fn.isString(n)?t.getViewInComponentById(n):n)&&(o?s.amc.fn.show(e):s.amc.fn.hide(e))},n.modifyElementCSS=function(t,n,o){if(n){var e=n;s.amc.fn.isString(n)&&(e=t.getViewInComponentById(n)),e&&o&&(e.style.cssText=o)}},n.createEmbedViPlugin=function(t,n,o,e){var i;if(s.amc.isAndroid)i=document.createElement('embed',n,function(){});else for(var r in i=document.createElement('embed'),n)n.hasOwnProperty(r)&&(i[r]=n[r]);return o&&(i.className=o),e?t.insertBefore(i,e):t.appendChild(i),i},window.DomUtils={modifyElementStyle:e,modifyElementAttribute:r}},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var e=o(0);n.logAction=function(t,n){window.pageId||(window.pageId='|'+Math.random().toString(36).substr(2,3)),n=n?n+window.pageId:window.pageId,e.amc.fn.logAction(t,n)}},function(t,n,o){'use strict';var e,i,r,s,a=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(n,'__esModule',{value:!0});var c,p,u,l,g,f,m=o(1),d=o(0),h=o(3),_=o(2);(f=c=n.BUTTON_TYPE||(n.BUTTON_TYPE={})).PRIMARY='PRIMARY',f.NORMAL='NORMAL',(g=p=n.LOADING_TYPE||(n.LOADING_TYPE={}))[g.JuHua=0]='JuHua',g[g.CIRCLE=1]='CIRCLE',(l=u=n.BUTTON_STATUS||(n.BUTTON_STATUS={}))[l.NORMAL=0]='NORMAL',l[l.LOADING=1]='LOADING',l[l.SUCCESS=2]='SUCCESS',l[l.DISABLE=3]='DISABLE';var y=((i={})[c.NORMAL]=d.amc.path+'alipay_msp_loading_blue.gif',i[c.PRIMARY]=d.amc.res.loading,i),v=((r={})[c.NORMAL]='amc-loading-img amc-text-color-blue',r[c.PRIMARY]='amc-loading-img amc-text-white-clolor',r),I=((s={})[c.NORMAL]=d.amc.path+'alipay_msp_success_blue.gif',s[c.PRIMARY]=d.amc.res.success,s),T=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.props={type:c.PRIMARY,onClick:function(){},circleLoading:{},juHuaLoading:{}},t.onCreated=function(){},t.onMounted=function(){t.props.circleLoading=h.createEmbedViPlugin(t.getViewInComponentById('button'),{type:'MQPPayGifView'},'amc-hidden',t.getViewInComponentById('buttonText')),h.modifyElementCSS(t,t.props.circleLoading,'width: 24px; height: 24px;margin-right: 8px;'),t.props.juHuaLoading=t.getViewInComponentById('loadingJuHua'),d.amc.isAndroid&&h.modifyElementAttribute(t,t.props.juHuaLoading,{src:d.amc.path+'alipay_msp_indicator_white_loading'}),h.modifyElementAttribute(t,'buttonText',{accessibilityTraits:'Button'})},t}return a(t,n),t.prototype.setType=function(t){switch(this.props.type=t,h.modifyElementClass(this,this.props.juHuaLoading,v[t],!1),t){case c.NORMAL:h.modifyElementClass(this,'button','amc-btn-secondary amc-align-center amc-justify-center',!1),h.modifyElementCSS(this,'buttonText','color: #108ee9;'),h.modifyElementCSS(this,'button','background-color: #FFF;border: 2 #108EE9;font-size: 18px;');break;case c.PRIMARY:h.modifyElementClass(this,'button','amc-btn-primary amc-align-center amc-justify-center',!1),h.modifyElementCSS(this,'buttonText','color: #fff;')}return this},t.prototype.setVisible=function(t){return h.modifyElementStyle(this,'button',{display:t?'none':'flex'}),this},t.prototype.setOnClick=function(t){return this.props.onClick=t||_.doNothing,h.modifyElementAttribute(this,'button',{onclick:this.props.onClick}),this},t.prototype.setText=function(t){return this.props.text=t,this},t.prototype.changeTextAndOnClick=function(t,n){var o=void 0;switch(t){case u.SUCCESS:this.props.text&&(o=this.props.text[u.SUCCESS]),h.modifyElementAttribute(this,'button',{onclick:_.doNothing});break;case u.NORMAL:this.props.text&&(o=this.props.text[u.NORMAL]),h.modifyElementAttribute(this,'button',{onclick:this.props.onClick});break;case u.LOADING:this.props.text&&(o=this.props.text[u.LOADING]),h.modifyElementAttribute(this,'button',{onclick:_.doNothing});break;case u.DISABLE:h.modifyElementAttribute(this,'button',{onclick:_.doNothing});break;default:o=''}return void 0!==n?h.modifyElementAttribute(this,'buttonText',{innerText:n}):void 0!==o&&h.modifyElementAttribute(this,'buttonText',{innerText:o}),this},t.prototype.changeLoadingStatus=function(t,n,o){switch(n){case p.CIRCLE:h.visibleElement(this,this.props.juHuaLoading,!1),h.visibleElement(this,this.props.circleLoading,!1),this.changeTextAndOnClick(t,o),this.changeCircleLoading(t),h.visibleElement(this,this.props.circleLoading,t!==u.NORMAL);break;case p.JuHua:h.visibleElement(this,this.props.juHuaLoading,!1),h.visibleElement(this,this.props.circleLoading,!1),this.changeTextAndOnClick(t,o),h.visibleElement(this,this.props.juHuaLoading,t!==u.NORMAL);break;default:this.changeLoadingStatus(u.NORMAL,p.CIRCLE,o)}},t.prototype.changeCircleLoading=function(t){var n=this.props.circleLoading;switch(t){case u.LOADING:h.modifyElementAttribute(this,n,{src:y[this.props.type]});break;case u.NORMAL:h.modifyElementAttribute(this,n,{src:''});break;case u.SUCCESS:h.modifyElementAttribute(this,n,{src:I[this.props.type]});break;default:d.amc.fn.logError('Button','loading-'+(t||'status'))}},t.getComponentCSSRules=function(){return{'.text-primary':'_Button_0k44-c-text-primary'}},t.getComponentJson=function(){return{'sp-view-id':'button',_c:'amc-btn-primary amc-align-center amc-justify-center',_t:'div',_cd:[{'sp-view-id':'loadingJuHua',src:'indicatior',_c:'amc-loading-img amc-text-white-clolor',alt:'',_t:'img'},{'sp-view-id':'buttonText',_c:'_Button_0k44-c-text-primary amc-ellipsis',_t:'label',_x:'{{pay_right_now}}'}]}},t.componentName='Button',t.componentHashName='Button_0k44',t}(m.BNComponent);n.Button=T},function(t,a,n){'use strict';var e,o=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(a,'__esModule',{value:!0});var i,c,r,s,p,u,l,g,f=n(1),m=n(4),d=n(2),h=n(0),_=n(3),y=n(5),v=n(12);f.ComponentRegistry.registerComponent(y.Button.componentName,y.Button),f.ComponentRegistry.registerComponent(v.ButtonGroup.componentName,v.ButtonGroup),(u=i=a.VI_STATUS||(a.VI_STATUS={})).NORMAL='normal',u.VERIFYING='verifying',u.PAYING='paying',u.SUCCESS='success',(p=c||(c={})).viStart='viStart',p.viStatus='viStatus',p.viRpcRequest='viRpcRequest',p.viToPWD='viToPWD',p.viResult='viResult',a.EXIT_VI_SCENE={PPW_LOCK:'PPW_LOCK',FORGET_PASSWORD:'forgetPwd'},a.RETAIN_VI_SCENE={USER_CANCEL:'USER_CANCEL'},a.VI_LOG_ACTION_TYPE='VI',(s=r=a.VI_ACTION||(a.VI_ACTION={})).PRE_LOAD='viPreload',s.START='viStart',s.START_HUAWEI='viPreStart',s.RPC_RESPONSE='viRpcResponse',s.PAY_STATUS='payStatus',s.CLOSE_PAGE='viClosePage',s.FORGET_PWD_HANDLE_OTHER_PAY_WAY='viHandleOtherPayWay',a.VI_TYPE={PASSWORD:'pwd',SHORT_PASSWORD:'spwd',FINGERPRINT:'fp',BRACELET:'wl',FACE_IDENTIFICATION_CAPS:'FACEID',FACE_IDENTIFICATION_LOWER:'faceid',ZOLO_FACE_IDENTIFICATION:'ZFACE'},(g=l||(l={})).NEW='2.0',g.OLD='1.0',g.UNKNOWN='unknown';var I=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.props={buttonGroup:new v.ButtonGroup,isPayBtnShown:!0,isPaySuccessShown:!1,processVIRpcRequest:function(){},processVIStart:function(){},processVIStatus:function(){},processVIToPWD:function(){},processVIResult:function(){},pwdTip:'',pwdType:'',rpcVIData:'',buttons:[],buttonIndex:0,supportVersion:l.UNKNOWN},t.onCreated=function(){},t.onMounted=function(){window.viCallback=t.viCallback.bind(t),t.props.viPlugin=_.createEmbedViPlugin(t.getViewInComponentById('viPwdBox'),{type:'VIPayPluginView',src:JSON.stringify({}),id:'realViPlugin'},'vi-finger amc-flex-1'),t.props.buttonGroup=t.getSubComponentById('buttonGroup',v.ButtonGroup),t.props.buttonGroup.setOnClick(t.onButtonClick.bind(t))},t}return o(e,n),e.prototype.addButton=function(t,n,o){this.props.buttons.push({dom:t,text:n}),this.props.buttonGroup.addButton(t,o),t.setText(e.VIButtonText2ButtonText(n)).changeLoadingStatus(y.BUTTON_STATUS.NORMAL,y.LOADING_TYPE.CIRCLE)},e.prototype.onButtonClick=function(t){this.props.buttonIndex=t},e.VIButtonText2ButtonText=function(t){var n;return(n={})[y.BUTTON_STATUS.NORMAL]=t.normal,n[y.BUTTON_STATUS.SUCCESS]=t.success,n[y.BUTTON_STATUS.LOADING]=t.paying,n},e.prototype.payButtonExposure=function(t,n){var o=this;this.props.isPayBtnShown=!0,setTimeout(function(){o.props.isPayBtnShown&&h.amc.fn.spmExposure(t,n,!0)},300)},e.prototype.setRpcVIData=function(t){return this.props.rpcVIData=t||'',this.preLoadVIPlugin(),this},e.prototype.showButton=function(t){return void 0===t&&(t=!0),(this.props.isPayBtnShown=t)?(this.props.buttonGroup.setVisible(!0),_.visibleElement(this,'viPwdBox',!1)):(this.props.buttonGroup.setVisible(!1),_.visibleElement(this,'viPwdBox',!0)),this},e.prototype.setPwdTip=function(t){return this.props.pwdTip=t||'',this},e.prototype.setProcessVIStart=function(t){return this.props.processVIStart=t,this},e.prototype.setProcessVIStatus=function(n){var o=this;return this.props.processVIStatus=function(t){t&&t.type&&(o.props.pwdType=t.type),t&&t.version&&(o.props.version=t.version),n(t)},this},e.prototype.setProcessVIRpcRequest=function(t){return this.props.processVIRpcRequest=t,this},e.prototype.setProcessVIToPWD=function(t){return this.props.processVIToPWD=t,this},e.prototype.setProcessVIResult=function(t){return this.props.processVIResult=t,this},e.prototype.getIsPaySuccessShown=function(){return this.props.isPaySuccessShown},e.prototype.getPwdType=function(){return this.props.pwdType||''},e.prototype.getActiveButton=function(){return this.props.buttons.length>this.props.buttonIndex?this.props.buttons[this.props.buttonIndex].dom:0<this.props.buttons.length?this.props.buttons[0].dom:void 0},e.prototype.getActiveButtonText=function(){return this.props.buttons.length>this.props.buttonIndex?this.props.buttons[this.props.buttonIndex].text:0<this.props.buttons.length?this.props.buttons[0].text:void 0},e.prototype.getButtonContainer=function(){return this.props.buttonGroup},e.prototype.toggleBioProcessLoading=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var n=this.props.buttons[this.props.buttonIndex].text;switch(t){case i.NORMAL:this.stopLoadingWithText();break;case i.VERIFYING:this.startLoadingWithText(y.LOADING_TYPE.CIRCLE,n[i.VERIFYING]||'');break;case i.PAYING:this.startLoadingWithText(y.LOADING_TYPE.CIRCLE,n[i.PAYING]||'');break;case i.SUCCESS:this.startLoadingWithText(y.LOADING_TYPE.CIRCLE,n[i.SUCCESS]||'',y.BUTTON_STATUS.SUCCESS);break;default:this.stopLoadingWithText()}}},e.prototype.startLoadingWithText=function(t,n,o){this.props.buttonIndex>=this.props.buttons.length||this.props.buttons[this.props.buttonIndex].dom.changeLoadingStatus(o||y.BUTTON_STATUS.LOADING,t,n||'')},e.prototype.stopLoadingWithText=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var n=this.props.buttons[this.props.buttonIndex];n.dom.changeLoadingStatus(y.BUTTON_STATUS.NORMAL,void 0,t||n.text[i.NORMAL])}},e.prototype.onPaySuccess=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var n=this.props.buttons[this.props.buttonIndex];n.dom.changeLoadingStatus(y.BUTTON_STATUS.SUCCESS,y.LOADING_TYPE.CIRCLE,n.text[i.PAYING]),_.modifyElementStyle(n.dom,'buttonText',{opacity:.2}),setTimeout(function(){_.modifyElementAttribute(n.dom,'buttonText',{innerText:t||n.text[i.SUCCESS]}),_.modifyElementStyle(n.dom,'buttonText',{opacity:1})},500),this.props.isPaySuccessShown=!0}},e.prototype.onPayFailure=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var n=this.props.buttons[this.props.buttonIndex];n.dom.changeLoadingStatus(y.BUTTON_STATUS.NORMAL,y.LOADING_TYPE.CIRCLE,t||n.text[i.NORMAL]),this.props.isPaySuccessShown=!0}},e.prototype.invoke=function(t,n){if(this.props.viPlugin)return this.props.viPlugin.invoke(t,n)},e.prototype.getVersion=function(){return this.props.version},e.prototype.getAuthType=function(t,n){var o=this;this.getVIConfig(function(){t(o.getAuthTypeIml(n))})},e.prototype.getAuthTypeIml=function(t){var n={};try{(n=this.invoke('getAuthType',{pwdTip:this.props.pwdTip,viData:t||this.props.rpcVIData,supportVersion:this.props.supportVersion}))&&n.version&&(this.props.version=n.version)}catch(t){h.amc.fn.logError('VI','getAuthType失败,'+t)}return m.logAction('authType-'+(this.props.supportVersion||'supportVersion')+'-'+(n&&n.version||'version'),a.VI_LOG_ACTION_TYPE),n},e.prototype.sendDataToVIPlugin=function(t){m.logAction(t&&t.action||'action',a.VI_LOG_ACTION_TYPE),_.modifyElementAttribute(this,this.props.viPlugin,{src:JSON.stringify(t)})},e.prototype.preLoadVIPlugin=function(){if(this.props.rpcVIData&&!d.checkEmptyObj(this.props.rpcVIData)){var t={action:r.PRE_LOAD,data:this.props.rpcVIData};this.sendDataToVIPlugin(t)}},e.prototype.getVIConfig=function(n){var o=this;this.props.supportVersion===l.UNKNOWN?h.amc.fn.sdkGreaterThanOrEqual('10.8.34')?(m.logAction('switch',a.VI_LOG_ACTION_TYPE),d.getConfig('degrade_vi_new',function(t){o.props.supportVersion=t?l.NEW:l.OLD,n()})):(this.props.supportVersion=l.OLD,n()):n()},e.prototype.startVIPlugin=function(t,n,o){var e=this;this.getVIConfig(function(){e.startVIPluginIml(t,n,o)})},e.prototype.startVIPluginIml=function(t,n,o){var e={supportVersion:this.props.supportVersion,supportRetain:'Y'};this.props.pwdTip&&(e.pwdTip=this.props.pwdTip),o=d.copyObj(e,o),m.logAction('viStartConfig-'+(o.usePwd||'usePwd')+'-'+(o.costTip||'costTip'),a.VI_LOG_ACTION_TYPE),m.logAction('viLen|'+(this.props.rpcVIData||'').length+'-'+(o.supportVersion||'supportVersion'),a.VI_LOG_ACTION_TYPE);var i={action:t,data:n||this.props.rpcVIData,callbacks:{onViAction:'viCallback'},config:o};this.sendDataToVIPlugin(i)},e.prototype.sendResponseDataToVI=function(t){var n={action:r.RPC_RESPONSE,data:t};this.sendDataToVIPlugin(n)},e.prototype.showVILoadingWithPaymentResult=function(t){var n={action:r.PAY_STATUS,data:{status:t}};this.sendDataToVIPlugin(n)},e.prototype.sendForgetPwdPayWithOtherWayToVI=function(){var t={action:r.FORGET_PWD_HANDLE_OTHER_PAY_WAY,data:{from:'forgotPwd'}};this.sendDataToVIPlugin(t)},e.prototype.viCallback=function(t){var n,o;try{o=JSON.parse(t)||{action:'none',data:''}}catch(t){return void h.amc.fn.logError('VI','解析核身JSON失败'+t)}var e=o.action,i=o.data;if(h.amc.fn.isString(e)&&e===c.viToPWD){var r={};if(h.amc.fn.isString(i))try{r=JSON.parse(i)}catch(t){h.amc.fn.logError('pVI2PWD','json parse error')}else r=i;r&&(r.version?this.props.version=r.version:this.props.version=l.OLD)}var s=((n={})[c.viStart]=this.props.processVIStart,n[c.viStatus]=this.props.processVIStatus,n[c.viRpcRequest]=this.props.processVIRpcRequest,n[c.viToPWD]=this.props.processVIToPWD,n[c.viResult]=this.props.processVIResult,n.none=function(){},n);e!=c.viStatus&&e!=c.viToPWD&&e!=c.viResult&&m.logAction(e||'actType',a.VI_LOG_ACTION_TYPE),h.amc.fn.isString(e)&&s[e]&&s[e](i)},e.prototype.viPageCloseNotify=function(){var t={action:r.CLOSE_PAGE};this.sendDataToVIPlugin(t)},e.getComponentCSSRules=function(){return{'.vi-finger':'_VIPlugin_41ao-c-vi-finger','.vi-finger-box':'_VIPlugin_41ao-c-vi-finger-box','.bottom-box':'_VIPlugin_41ao-c-bottom-box'}},e.getComponentJson=function(){return{'sp-view-id':'viPluginBox',_c:'_VIPlugin_41ao-c-bottom-box amc-v-box',_t:'div',_cd:[{'sp-view-id':'buttonContainer',_c:'amc-v-box',_t:'div',_cd:[{'sp-component':'ButtonGroup','sp-component-id':'buttonGroup',_t:'div'}]},{'sp-view-id':'viPwdBox',_c:'_VIPlugin_41ao-c-vi-finger _VIPlugin_41ao-c-vi-finger-box amc-hidden',_t:'div'},{'sp-view-id':'bottomBlank',_c:'amc-iphone-x-pd-b',_t:'div'}]}},e.componentName='VIPlugin',e.componentHashName='VIPlugin_41ao',e}(f.BNComponent);a.VIPlugin=I},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var e=o(1),i=function(){function o(){}return o.registerComponent=function(t,n){n?o.facts[t]?e.logger.e('CmpReg#regCmp','E0002 '+t):(e.logger.i('CmpReg#regCmp','I0003 '+t),o.facts[t]=n):e.logger.e('CmpReg#regCmp','E0001 '+t+', '+n)},o.getKnownComponents=function(){return o.facts},o.getComponentJson=function(t){return o.jsons[t]},o.putComponentJson=function(t,n){n||e.logger.e('CmpReg#putCmpJ','E0004 '+t+', '+n),o.getComponentJson(t)?e.logger.e('CmpReg#putCmpJ','E0005 '+t):(e.logger.i('CmpReg#putCmpJ','I0006 '+t),o.jsons[t]=n)},o.createComponent=function(t){e.logger.i('CmpReg#crtCmp','I0007 '+t);var n=o.facts[t];return n?new n:(e.logger.e('CmpReg#crtCmp','E0008 '+t),null)},o.facts={},o.jsons={},o}();n.ComponentRegistry=i},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var e=o(6),i=o(4),c=o(2),p=o(0),u=o(3),l=o(13),g=o(5),r=o(15),s='VIVerify',a=new(function(){function t(){this.timer=null,this.owner=''}return t.prototype.release=function(t){return this.owner&&this.owner!==t?(p.amc.fn.logError('UnLock-F','releaseFailed '+this.owner+'-'+t),!1):(this.timer&&clearTimeout(this.timer),this.timer=null,!(this.owner=''))},t.prototype.lock=function(t,n){var o=this;return this.owner&&this.owner!==t?(p.amc.fn.logError('Lock-F','lockFailed '+this.owner+'-'+t),!1):(this.release(t),this.owner=t,this.timer=setTimeout(function(){o.release(t)},n),!0)},t.prototype.isLocked=function(){return!!this.owner},t.prototype.getOwner=function(){return this.owner},t}()),f=function(n,t,o){return(e=t)&&!e.name&&(e=e.action||{}),e&&/^loc/.test(e.name)?(document.asyncSubmit(t,o),!0):!!a.lock(n,300)&&(document.asyncSubmit(t,function(t){'0'!==(t=t||{}).pageloading&&t.pageloading||a.release(n),o&&o(t)}),!0);var e},m='/cashier/pay',d={viPlugin:new e.VIPlugin,dialog:new r.Dialog,init:function(){h.cashierBox=document.getElementById('cashier'),h.cashierBox&&d.viPlugin.mountTo(h.cashierBox),d.dialog.mountTo(document.body),d.viPlugin.showButton(!0)},loadData:function(t){var n=new g.Button,o='Y'===t.is_fqg?'{{confirm_fqg}}':'';d.viPlugin.addButton(n,{normal:o||t.btnName||'{{pay_right_now}}',verifying:'{{verifying}}',paying:'{{paying}}',success:'{{pay_ok}}   '},P),n.setType(g.BUTTON_TYPE.PRIMARY).changeLoadingStatus(g.BUTTON_STATUS.NORMAL),d.viPlugin.setRpcVIData(t.VIData).setPwdTip(t.pwdTip),h.canGoBack=!0,h.rpcData=t,h.VIData=t.VIData,h.showAgreement='Y'===t.show_aggr,h.interactType=t.interactType||'1';var e=p.amc.fn.isObject(t.spmObj)?JSON.stringify(t.spmObj):'{}';if(h.param4=c.tryJSONParse(e),t.detail&&(h.param4.discount=t.detail.some(function(t){return'separator'!==t.type&&t.isDiscount})),h.isClose=!1,h.isHwFpMode=!1,h.confirmAction=l.buildConfirmActionWithAct(m,t.confirmAct),u.visibleElement(d.viPlugin,'bottomBlank',!1),t.sloganUrl){h.sloganImgBox=p.amc.fn.create('div','amc-flex-center',h.cashierBox);var i=p.amc.fn.create('img','slogan-img',h.sloganImgBox),r=!1,s=p.amc.isSDK&&p.amc.isIOS,a=function(t,n,o){r=t,!h.isHwFpMode&&t&&p.amc.fn.show(h.sloganImgBox)};window.loadImageHelper(i,t.sloganUrl,s?null:a),s&&a(!0,t.sloganUrl,h.sloganImgBox),setTimeout(function(){r||p.amc.fn.hide(h.sloganImgBox)},10)}p.amc.fn.create('div','amc-iphone-x-pd-b',h.cashierBox),h.isBackAct='back'===t.backAct},getButton:function(){return d.viPlugin.getActiveButton()}},h=new function(){};function _(){d.viPlugin.setProcessVIStatus(I).setProcessVIRpcRequest(T).setProcessVIToPWD(function(t){a.lock(s,500)&&l.commonProcessVIToPWD(t,{viPlugin:d.viPlugin,rpcData:h.rpcData,canGoBack:h.canGoBack,confirmAction:h.confirmAction,startVIPlugin:b})})}function y(t){a.lock(s,500)&&l.commonProcessVIToPWD(t,{viPlugin:d.viPlugin,rpcData:h.rpcData,canGoBack:h.canGoBack,confirmAction:h.confirmAction,startVIPlugin:b})}function v(){d.viPlugin.setProcessVIStatus(function(t){l.processVIStatus(t,{setCanGoBack:function(t){h.canGoBack=t},processVIToPWD:function(){y(h.VIData)},viPlugin:d.viPlugin})}).setProcessVIRpcRequest(function(t){a.release(s),l.processVIRpcRequest(t,{viPlugin:d.viPlugin,submitPay:C})}).setProcessVIToPWD(function(t){y(t)})}function I(t){if(t){var n=t.status,o=t.type;i.logAction('hw-'+(o||'type')+'-'+(n||'status'),e.VI_LOG_ACTION_TYPE),'start'===n?(d.viPlugin.showButton(!1),h.canGoBack=!1,p.amc.fn.hide(h.sloganImgBox),h.isHwFpMode=!0):'abort'===n&&p.amc.fn.exit()}}function T(t){a.release(s),C(t,function(t){'0001'===(t=t||{}).status&&d.viPlugin.showVILoadingWithPaymentResult('success')})}function b(t,n,o){void 0===o&&(o=!1),l.commonStartVIPlugin(t,{isHuaWeiFinger:n,showAgreement:h.showAgreement,rpcData:h.rpcData,viPlugin:d.viPlugin,setViCallBack:{HuaWei:_,standard:v},usePwd:o})}function P(){var t=!!h.VIData;if(t||!a.isLocked()){p.amc.fn.spmClick('a283.b4036.c9693.d17385',h.param4);var n=t?A:S;if(h.rpcData.chargeMsg){var o={title:'',message:h.rpcData.chargeMsg,okButton:h.rpcData.chargeConfirmTxt||'{{confirm_btn}}',cancelButton:h.rpcData.chargeCancelTxt||'{{cancel}}'};document.confirm(o,function(t){t.ok&&n()})}else n()}}function A(){a.lock(s,600)&&b(h.VIData,!1)}function S(){var t,n;'0'===h.interactType?((t={}).action=h.confirmAction,f('no-vi0',t,function(t){(t=t||{}).confirmAct&&t.confirmAct.name&&(h.confirmAction=l.buildConfirmActionWithAct(m,t.confirmAct)),'1'===t.pageloading?d.viPlugin.startLoadingWithText(g.LOADING_TYPE.JuHua,'{{paying}}'):'0'===t.pageloading&&d.viPlugin.stopLoadingWithText()})&&d.viPlugin.startLoadingWithText(g.LOADING_TYPE.JuHua,'{{paying}}')):'1'===h.interactType&&((n={action:h.confirmAction}).action.neec='6004',f('no-vi1',n,function(t){(t=t||{}).confirmAct&&t.confirmAct.name&&(h.confirmAction=l.buildConfirmActionWithAct(m,t.confirmAct));var n=t.status;d.viPlugin.getIsPaySuccessShown()||('0001'===n?d.viPlugin.onPaySuccess():'0002'!==n&&'0006'!==n&&'0000'!==n||d.viPlugin.toggleBioProcessLoading(e.VI_STATUS.NORMAL),'1'===t.pageloading?d.viPlugin.toggleBioProcessLoading(e.VI_STATUS.PAYING):'0'===t.pageloading&&d.viPlugin.toggleBioProcessLoading(e.VI_STATUS.NORMAL))})&&d.viPlugin.toggleBioProcessLoading(e.VI_STATUS.PAYING))}function C(t,o){if(h.isClose)return!1;var n={action:h.confirmAction};return n.action.params=c.mergeObject(n.action.params,{VIData:t}),'openservice'===h.rpcData.biztype||'/pwd/validate'!==h.confirmAction.name&&'/cashier/pay'!==h.confirmAction.name&&'/cashier/payment'!==h.confirmAction.name||(n.action.neec='6004'),f('submitPay',n,function(t){if(t=t||{},o&&o(t),t.confirmAct&&t.confirmAct.name&&(h.confirmAction=l.buildConfirmActionWithAct(m,t.confirmAct)),t.VIData){try{var n=JSON.parse(t.VIData).finishCode;i.logAction('viCode|'+n,e.VI_LOG_ACTION_TYPE)}catch(t){}d.viPlugin.sendResponseDataToVI(t.VIData)}})}function w(n){return function(){if(n){var t;t=p.amc.fn.isString(n)?{action:{name:n}}:{action:n},document.submit(t)}}}window.props=d;var O=null;window.loadImageHelper=function(t,n,o){if(!O){O={};var e=document.onImgLoaded;document.onImgLoaded=function(t,n){var o=O[n];o&&o.callback?o.callback(t,n,o.img):e&&e(t,n),delete O[n]}}O[n]={callback:o,img:t},t.src=n};var E=p.amc.fn.exit;p.amc.fn.exit=function(){h.isBackAct?p.amc.fn.back():E.apply(p.amc.fn)},window.TsBridge={onClose:function(t){if(!t||!a.isLocked()){if(p.amc.fn.spmClick('a283.b4036.c9695.d17382',h.param4),h.isBackAct)p.amc.fn.back();else{var n=function(){p.amc.fn.spmPageDestroy('a283.b4036',{}),p.amc.fn.exit(),h.isClose=!0};if('0'===h.interactType)try{window.amc.ext.processCashierCfgExit(n)}catch(t){p.amc.fn.logError('usq','退出答题异常'+t),n()}else if('1'===h.interactType){if(p.amc.fn.spmExposure('a283.b4036.c41768',h.param4,!1),!h.rpcData.exitConfirmDlg)return void n();d.dialog.show({title:h.rpcData.exitConfirmDlg.title,message:h.rpcData.exitConfirmDlg.message,leftAction:function(){p.amc.fn.spmClick('a283.b4036.c41768.d84646',h.param4),w(h.rpcData.exitConfirmDlg.leftAct)()},rightAction:function(){p.amc.fn.spmClick('a283.b4036.c41768.d84645',h.param4),w(h.rpcData.exitConfirmDlg.rightAct)()},leftTxt:h.rpcData.exitConfirmDlg.leftTxt,rightTxt:h.rpcData.exitConfirmDlg.rightTxt})}}return{}}p.amc.fn.logError('mutexBack',a.getOwner())},payBtnExposure:function(){d.viPlugin.payButtonExposure('a283.b4036.c9693.d17385',h.param4)},startVIPlugin:b,asyncSubmitWithMutex:f,showDlg:function(t){d.dialog.show(t)},executeWithPwd:function(){p.amc.fn.spmClick('a283.b4036.c9695.d87354',h.param4);var n=function(){a.lock(s,600)&&b(h.VIData,!1,!0)};if(h.rpcData.chargeMsg){var t={title:'',message:h.rpcData.chargeMsg,okButton:h.rpcData.chargeConfirmTxt||'{{confirm_btn}}',cancelButton:h.rpcData.chargeCancelTxt||'{{cancel}}'};document.confirm(t,function(t){t.ok&&n()})}else n()}}},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var h=o(1),e=o(10),_=o(7),i=function(){function t(){this._componentName=this.constructor.componentName,this._htmlString=this.constructor.componentHTML,this._componentJson=this.constructor.getComponentJson(),this._componentCSSRules=this.constructor.getComponentCSSRules(),this._hash=e.randomStr(),this._hasRootViewBuilt=!1,this._rootView=null,this._componentId='',this._subComponents=[],this._subComponentsMap={},this._viewsIdMap={}}return t.getComponentCSSRules=function(){throw new Error('E0100')},t.getComponentJson=function(){throw new Error('E0101')},t.prototype.mountTo=function(t,n){if(t){var o=this._acquireRootView();o?(n?t.insertBefore(o,n):t.appendChild(o),this._triggerOnMounted()):h.logger.e('Cmp#mT','E0103 '+o)}else h.logger.e('Cmp#mT','E0102 '+t)},Object.defineProperty(t.prototype,'debugName',{get:function(){return'<'+this._componentName+' '+this._hash+' id:'+this._componentId+'>'},enumerable:!0,configurable:!0}),t.prototype.getMountedRootView=function(){return this._hasRootViewBuilt?this._rootView:null},t.prototype.getMountedParentView=function(){var t=this.getMountedRootView();return t?t.parentNode:null},t.prototype.getSubComponentById=function(t,n){var o=this.debugName+'#SCById',e=this._subComponentsMap[t];if(!e)return null;var i='',r='';try{i=e.constructor.componentName,r=n.componentName}catch(t){h.logger.e(o,'E0104 '+t)}return i&&i===r?e:(h.logger.e(o,'E0105 '+i+', '+r),null)},t.prototype.getViewInComponentById=function(t){return this._viewsIdMap[t]},t.prototype.getComponentId=function(){return this._componentId},t.prototype.createStyledElement=function(t,n,o){var e=document.createElement(t);if(e)return t&&(e.className+=' '+this._css(t,2)),o&&(e.className+=' '+this._csses(o,1)),n&&(e.className+=' '+this._css('#'+n,2)),e},t.prototype.applyStyleTo=function(t,n){t&&(t.className+=' '+this._csses(n,1))},t.prototype.css=function(t){return this._css(t,0)},t.prototype.csses=function(t){return this._csses(t,0)},t.prototype._csses=function(t,n){var o=this;return t.split(' ').map(function(t){return o._css(t,n)}).join(' ')},t.prototype._css=function(t,n){if(!t)return'';var o=this._componentCSSRules;if(!o)return t;switch(t.charAt(0)){case'#':case'.':return o[t]||t;default:switch(n){case 0:return o['.'+t]||o[t]||t;case 1:return o['.'+t]||t;case 2:default:return t}}},t.prototype._triggerOnMounted=function(){h.logger.i('','I0106 '+this.debugName);for(var t=0,n=this._subComponents;t<n.length;t++){var o=n[t];o&&o._triggerOnMounted()}this.onMounted&&this.onMounted()},t.prototype._getMethod=function(t){var n=this[t];return n instanceof Function?n:null},t.prototype._acquireComponentJson=function(){var t=this.debugName+'#acCJ',n=_.ComponentRegistry.getComponentJson(this._componentName);return n?(h.logger.i(t,'I0107'),n):void 0!==this._componentJson?(h.logger.i(t,'I0108'),_.ComponentRegistry.putComponentJson(this._componentName,this._componentJson),this._componentJson):(h.logger.e(t,'E0109'),null)},t.prototype._acquireRootView=function(){var t=this.debugName+'#acRV';if(this._hasRootViewBuilt)return h.logger.i(t,'I0110'),this._rootView;var n=this._acquireComponentJson();return n?(this._rootView=this._convertJsonToBNNode(n),this._hasRootViewBuilt=!0,h.logger.i(t,'I0112'),this._rootView):(h.logger.e(t,'E0111'),null)},t.prototype._convertJsonToBNNode=function(t){var n=this.debugName+'#cJTB',o=[];if(void 0!==t._cd)for(var e=0,i=t._cd;e<i.length;e++){var r=i[e];(d=this._convertJsonToBNNode(r))&&o.push(d)}if(void 0===t._t)return null;var s=document.createElement(t._t);if(!s)return null;var a=t['bn-component']||t['sp-component'];if(a){h.logger.i(n,'I0113 '+a);var c=_.ComponentRegistry.createComponent(a);if(!c)return h.logger.e(n,'E0114 '+a+', '+c),null;var p=t['bn-component-id']||t['sp-component-id'];return p&&(c._componentId=p),c.onCreated&&c.onCreated(),h.logger.i(n,'I0115 '+c.debugName+', '+p),this._subComponents.push(c),p&&!this._subComponentsMap[p]&&(this._subComponentsMap[p]=c),c._acquireRootView()}var u=t['bn-view-id']||t['sp-view-id'];for(var l in u&&(h.logger.i(n,'I0116 '+u),this._viewsIdMap[u]||(this._viewsIdMap[u]=s)),t._i&&(s.id=t._i),t._c&&(s.className=t._c),t._s&&(s.style.cssText=t._s),t._x&&(s.innerText=t._x),t._y&&(s.type=t._y),t)if(t.hasOwnProperty(l))if(0===l.indexOf('on')){var g=this._getMethod(t[l]);g&&(s[l]=g.bind(this,s))}else 0===l.indexOf('_')||0===l.indexOf('bn-')||0===l.indexOf('sp-')||(s[l]=t[l]);for(var f=0,m=o;f<m.length;f++){var d=m[f];s.appendChild(d)}return s},t.componentName='',t.componentHTML='',t.componentCSS='',t.componentHashName='',t}();n.BNComponent=i},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0}),n.randomStr=function(){return Math.floor(61439*Math.random()+4096).toString(16)}},function(t,n,o){'use strict';var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(n,'__esModule',{value:!0});var r=function(){function r(){this.enabled=!0}return r.fmtLine=function(t,n,o,e){var i='';return e&&(i=e instanceof Error?'- '+e.name+': '+e.message+' - '+e.stack:'- '+e),'['+t+']['+r.fmtTime()+']['+n+']'+o+' '+i},r.fmtTime=function(){var t=new Date;return t.getHours()+':'+t.getMinutes()+':'+t.getSeconds()+'.'+t.getMilliseconds()},r.prototype.enable=function(){this.enabled=!0},r.prototype.disable=function(){this.enabled=!1},r}();n.Logger=r,n.logger=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.e=function(t,n,o){},n.prototype.i=function(t,n,o){},n}(r))},function(t,n,o){'use strict';var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(n,'__esModule',{value:!0});var r=o(5),s=o(1),a=o(3);s.ComponentRegistry.registerComponent(r.Button.componentName,r.Button);var c=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.props={buttonsNum:0,container:{},buttons:[],onClick:function(t){}},t.onCreated=function(){},t.onMounted=function(){t.props.container=t.getViewInComponentById('buttonContainer')},t}return i(t,n),t.prototype.addButton=function(t,n){var o=this;0===this.props.buttons.length&&this.initDom(),this.props.buttons.push(t),t.mountTo(this.props.container);var e=this.props.buttons.length-1;t.setOnClick(function(){o.props.onClick(e),n&&n()})},t.prototype.setOnClick=function(t){this.props.onClick=t},t.prototype.setVisible=function(t){return a.modifyElementStyle(this,'buttonContainer',{display:t?'flex':'none'}),this},t.prototype.affectAllButtons=function(t){for(var n=0;n<this.props.buttons.length;n++)this.props.buttons[n].changeLoadingStatus(t)},t.prototype.initDom=function(t){void 0===t&&(t=!1),t?a.modifyElementClass(this,this.props.container,'',!1):this.applyStyleTo(this.props.container,'pay-btn-box')},t.getComponentCSSRules=function(){return{'.pay-btn-box':'_ButtonGroup_1afd-c-pay-btn-box'}},t.getComponentJson=function(){return{'sp-view-id':'buttonContainer',_t:'div'}},t.componentName='ButtonGroup',t.componentHashName='ButtonGroup_1afd',t}(s.BNComponent);n.ButtonGroup=c},function(t,n,o){'use strict';Object.defineProperty(n,'__esModule',{value:!0});var e=o(14),s=o(6),a=o(4),c=o(0);function r(t,n,o,e,i){void 0===i&&(i=!1);var r={action:{name:'loc:bnvb'},param:{tplid:'QUICKPAY@cashier-pwd-check-flex',tpl:n.viPwdTpl,data:{payOrder:o,pwdTip:n.pwdTip,logon_id:n.logon_id,VIData:t,confirmAct:e}}};document.submit(r)}n.buildConfirmActionWithAct=function(t,n){var o={name:t};return n&&n.name&&(o=n),o.loadtxt='',o.viChannelMode=e.VI_CHANNEL_MODE_FROM_TEMPLATE,o},n.commonStartVIPlugin=function(t,n){var o=n.showAgreement?'{{agree_auth_fp}}':'{{auth_finger_or}}',e=n.isHuaWeiFinger?s.VI_ACTION.START_HUAWEI:s.VI_ACTION.START,i=n.isHuaWeiFinger?{hwPaySuccessText:'{{pay_success}}',hwAuthingText:'{{auth_fingering}}',hwPayingText:'{{paying}}',hwRetryText:'{{retry_finger}}',hwAuthTip:o,hwInputPwdTip:'{{input_pwd_s}}'}:{fpAlertMsg:'{{confirm_exit}}',fpAlertCancelBtn:'{{confirm_btn}}',fpAlertToPwdBtn:'{{input_pwd_s}}',shouldDismissAfterAuth:'Y',pwdInputBtn:'{{confirm_btn}}',pwdPlaceHolder:'{{alipaypwd}}',pwdInputTip:n.rpcData.pwdTip,loadingPayingText:n.rpcData.doingText||'{{paying}}',loadingPaySuccessText:n.rpcData.successText||'{{pay_ok}}',LoginId:n.rpcData.logon_id,costTip:n.usePwd?n.rpcData.costTip:'',usePwd:n.usePwd?'Y':'N',pwdBtnShow:n.rpcData.rightBtn?'Y':'N'};n.setViCallBack&&(n.isHuaWeiFinger?n.setViCallBack.HuaWei&&n.setViCallBack.HuaWei():n.setViCallBack.standard&&n.setViCallBack.standard()),n.viPlugin.startVIPlugin(e,t,i)},n.commonProcessVIToPWD=function(t,n){var o={};if(c.amc.fn.isString(t))try{o=JSON.parse(t)}catch(t){c.amc.fn.logError('pVI2PWD','json parse error')}else o=t;var e=o.version,i=o.usePwd;a.logAction('VIToPwD-'+(e||'version-'+(i||'usePwd')),s.VI_LOG_ACTION_TYPE),'2.0'!==e?(n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL),r(t,n.rpcData,n.canGoBack,n.confirmAction,'Y'===i)):n.startVIPlugin(t,!1,'Y'===i)},n.gotoPwdPage=r,n.processVIRpcRequest=function(t,n){n.submitPay(t,function(t){'0001'===t.status&&n.viPlugin.onPaySuccess(),n.viPlugin.getIsPaySuccessShown()||('1'===t.pageloading?n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.PAYING):'0'===t.pageloading&&n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL))})&&n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.PAYING)},n.commonProcessVIResult=function(t,n){var o={};if(c.amc.fn.isString(t))try{o=JSON.parse(t)}catch(t){c.amc.fn.logError('processVIResult','json parse error')}else o=t;a.logAction('viResult-'+(o.code||'code')+'-'+(n.viPlugin.getVersion()||'version')+'-'+(n.viPlugin.getPwdType()||'VIType'),s.VI_LOG_ACTION_TYPE),'2.0'!==n.viPlugin.getVersion()||'1000'!==o.code||n.viPlugin.getPwdType()!==s.VI_TYPE.PASSWORD&&n.viPlugin.getPwdType()!==s.VI_TYPE.SHORT_PASSWORD||(c.amc.isIOS?c.amc.fn.showLoading(!0,!0):setTimeout(function(){document.invoke('showLoading')},10))},n.processVIStatus=function(t,n){if(t){var o=t.status,e=t.type,i=t.version,r=t.scene;a.logAction((e||'type')+'-'+(o||'status')+'-'+(i||'version')+'-'+(r||'scene'),s.VI_LOG_ACTION_TYPE),'start'===o?(n.setCanGoBack('wl'!==e),e!==s.VI_TYPE.PASSWORD&&e!==s.VI_TYPE.SHORT_PASSWORD||'2.0'===i?n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.VERIFYING):n.processVIToPWD()):'end'===o?n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL):'abort'===o?s.RETAIN_VI_SCENE.hasOwnProperty(r)?n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL):s.EXIT_VI_SCENE.hasOwnProperty(r)?c.amc.fn.exit():e===s.VI_TYPE.SHORT_PASSWORD||e===s.VI_TYPE.PASSWORD?n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL):c.amc.fn.exit():'awaitUser'===o&&n.viPlugin.toggleBioProcessLoading(s.VI_STATUS.NORMAL)}},n.pwdFreePay=function(t,n){var o={action:t};o.action.neec='6004',n.toggleBioProcessLoading(s.VI_STATUS.VERIFYING),document.asyncSubmit(o,function(t){if(!n.getIsPaySuccessShown())switch(t.status){case'0001':n.onPaySuccess();break;case'0000':case'0002':case'0006':n.onPayFailure()}})}},function(t,n,o){'use strict';var e;Object.defineProperty(n,'__esModule',{value:!0}),n.VI_CHANNEL_MODE_FROM_TEMPLATE='1',(e=n.SCALE_FACTOR||(n.SCALE_FACTOR={})).LEVEL_0='0',e.LEVEL_1='1',e.LEVEL_2='2',e.LEVEL_3='3',e.LEVEL_4='4'},function(t,n,o){'use strict';var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});Object.defineProperty(n,'__esModule',{value:!0});var r=o(1),s=o(0),a=o(3),c=o(2),p=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.onCreated=function(){},t.onMounted=function(){},t.props={dialogInfo:{message:'',title:void 0,leftTxt:'',rightTxt:'',leftAction:void 0,rightAction:void 0}},t}return i(t,n),t.prototype.setMessage=function(t){return this.props.dialogInfo.message=t,this},t.prototype.setRightTxt=function(t){return this.props.dialogInfo.rightTxt=t,this},t.prototype.setLeftTxt=function(t){return this.props.dialogInfo.leftTxt=t,this},t.prototype.setTitle=function(t){return this.props.dialogInfo.title=t,this},t.prototype.setLeftAction=function(t){return this.props.dialogInfo.leftAction=t,this},t.prototype.setRightAction=function(t){return this.props.dialogInfo.rightAction=t,this},t.prototype.show=function(t){var n=this;if(t&&this.setMessage(t.message).setLeftTxt(t.leftTxt).setLeftAction(t.leftAction).setRightTxt(t.rightTxt).setRightAction(t.rightAction).setTitle(t.title),this.props.dialogInfo.message&&this.props.dialogInfo.leftTxt&&this.props.dialogInfo.rightTxt){this.props.dialogInfo.title?(a.visibleElement(this,'dlgTopMargin',!1),a.visibleElement(this,'dlgTitle',!0),a.modifyElementAttribute(this,'dlgTitle',{innerText:this.props.dialogInfo.title})):(a.visibleElement(this,'dlgTopMargin',!0),a.visibleElement(this,'dlgTitle',!1)),a.modifyElementAttribute(this,'dlgMsg',{innerText:this.props.dialogInfo.message}),a.modifyElementAttribute(this,'btnLeft',{innerText:this.props.dialogInfo.leftTxt,onclick:function(){n.getBtnAction(n.props.dialogInfo.leftAction)()}}),a.modifyElementAttribute(this,'btnRight',{innerText:this.props.dialogInfo.rightTxt,onclick:function(){n.getBtnAction(n.props.dialogInfo.rightAction)()}});var o=this.getViewInComponentById('dlg');s.amc.isIOS&&s.amc.fn.sdkGreaterThanOrEqual('10.8.35')?o.show():o.showModal()}},t.prototype.getBtnAction=function(n){var o=this;return function(){if(c.isFunction(n))n();else if(s.amc.fn.isString(n)){var t={action:{name:n}};document.submit(t)}else s.amc.fn.isObject(n)&&(t={action:n},document.submit(t));o.getViewInComponentById('dlg').close()}},t.getComponentCSSRules=function(){return{'.dlg-msg':'_Dialog_gw2w-c-dlg-msg','.btn-left-text':'_Dialog_gw2w-c-btn-left-text','.btn-right-text':'_Dialog_gw2w-c-btn-right-text','.title-margin-b':'_Dialog_gw2w-c-title-margin-b','.dlg-body':'_Dialog_gw2w-c-dlg-body','.btn-vertical-line':'_Dialog_gw2w-c-btn-vertical-line','.dlg-margin-t':'_Dialog_gw2w-c-dlg-margin-t'}},t.getComponentJson=function(){return{'sp-view-id':'dlg',_c:'_Dialog_gw2w-c-dlg-body amc-v-box',_t:'dialog',_cd:[{'sp-view-id':'dlgTopMargin',_c:'_Dialog_gw2w-c-dlg-margin-t',_t:'div'},{'sp-view-id':'dlgTitle',_c:'amc-dlg-title amc-font-super _Dialog_gw2w-c-title-margin-b',_t:'label'},{'sp-view-id':'dlgMsg',_c:'amc-text-center _Dialog_gw2w-c-dlg-msg',_t:'label'},{_c:'amc-v-box amc-justify-center',_t:'div',_cd:[{_c:'amc-adapt-line',_t:'div'},{_c:'amc-align-center amc-justify-center',_t:'div',_cd:[{'sp-view-id':'btnLeft',_c:'_Dialog_gw2w-c-btn-left-text amc-font-super amc-flex-1 amc-text-center amc-ellipsis-2-line',_t:'label'},{_c:'_Dialog_gw2w-c-btn-vertical-line',_t:'div'},{'sp-view-id':'btnRight',_c:'_Dialog_gw2w-c-btn-right-text amc-font-super amc-flex-1 amc-text-center amc-ellipsis-2-line',_t:'label'}]}]}]}},t.componentName='Dialog',t.componentHashName='Dialog_gw2w',t}(r.BNComponent);n.Dialog=p}])"}],"tag":"script","type":"text/javascript"}],"tag":"head"},{"css":"amc-i-body","children":[{"css":"amc-1px-title-line","tag":"div","id":"iLine"},{},{"css":"amc-column-flex-1","children":[{},{"css":"amc-scroll pd-lr","children":[{},{"css":"top-pd","tag":"div"},{"css":"total-cost-box amc-hidden","children":[{"css":"total-cost-img","contentmode":"ScaleToFill","tag":"img","id":"totalCostImg"},{"css":"total-cost amc-text-center amc-ellipsis font-color-primary","tag":"label","id":"totalCost"}],"tag":"div","id":"totalCostBox"}],"tag":"div","id":"scrollableBox"},{},{"css":"shade","tag":"div"},{},{"css":"amc-v-box pd-lr amc-hidden","tag":"div","id":"fixedDetailBox"},{},{"css":"amc-v-box amc-hidden","tag":"div","id":"anchoredBox"},{},{"css":"amc-hidden protocol-box","children":[{"css":"info-text font-color-info agree-label amc-ellipsis-2-line","children":[{"tag":"text","text":"{{look}}"}],"tag":"label","id":"agree"},{"css":"amc-flex-1 amc-v-box","children":[{},{"css":"protocol-link amc-flex-1 info-text amc-theme-color amc-ellipsis-2-line amc-hidden","children":[{"tag":"text","text":"{{serve_protocol}}"}],"onclick":"showSingleProtocol()","tag":"label","id":"singleProtocol"},{},{"css":"protocol-link amc-flex-1 info-text amc-theme-color amc-ellipsis-2-line amc-hidden","children":[{"tag":"text","text":"{{serve_protocol}}"}],"onclick":"showMultiProtocol()","tag":"label","id":"multiProtocol"}],"tag":"div"}],"tag":"div","id":"protocolBox"}],"tag":"div","id":"cashier"}],"tag":"body","id":"body","onkeydown":"onKeyDown()","onload":"onload()"}],"tag":"html"},"publishVersion":"150924","name":"cashier-pay-confirm-flex","format":"JSON","tag":"QUICKPAY","time":"0330","tplId":"QUICKPAY@cashier-pay-confirm-flex","tplVersion":"5.4.1"}