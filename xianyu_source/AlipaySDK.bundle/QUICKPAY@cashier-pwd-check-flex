{"data":{"children":[{"children":[{"src":"AlipaySDK.bundle/amc.i18n","tag":"meta","type":"i18n"},{"rel":"stylesheet","tag":"link","href":"AlipaySDK.bundle/amc.css"},{"src":"AlipaySDK.bundle/amc.js","tag":"script"},{},{},{"children":[{"tag":"text","text":".vi-pwd-plus{flex:1.0;height:61px;max-height:61px}.vi-pwd-box{margin-top:6px;height:49px;min-height:49px;max-height:49px}.vi-pwd-box-plus{margin-top:6px;height:63px;min-height:63px;max-height:63px}.vi-pwd{flex:1.0;height:47px;min-height:47px;max-height:47px}.vi-pwd-plugin-box{}"}],"tag":"style"},{"children":[{"tag":"text","text":"._PwdCheckPage_y9mz-c-stretch-self{align-self:stretch}._PwdCheckPage_y9mz-c-pd-lr{padding-left:16px;padding-right:16px}._PwdCheckPage_y9mz-c-pd-t{padding-top:12px}._PwdCheckPage_y9mz-c-pd-t-l{padding-top:20px}._PwdCheckPage_y9mz-c-font-m{font-size:15px}._PwdCheckPage_y9mz-c-font-l-white{font-size:17px;color:#000}._PwdCheckPage_y9mz-c-amc-i-nav-m-box{align-items:center;justify-content:center;flex:3.0}._PwdCheckPage_y9mz-c-pwd-tips{color:#F4333C;font-size:13px}._PwdCheckPage_y9mz-c-forget-pwd-box{margin-top:16px}._VIPlugin_ply3-c-vi-finger{height:72px;max-height:72px;min-height:72px}._VIPlugin_ply3-c-vi-finger-box{justify-content:center}._VIPlugin_ply3-c-bottom-box{justify-content:flex-end;flex:1}._Button_0k44-c-text-primary{font-size:18px;color:#fff}._ButtonGroup_1afd-c-pay-btn-box{flex-direction:column;overflow:hidden;padding:12px 16px;min-height:68px;border-radius:2px;justify-content:flex-end}"}],"tag":"style","type":"text/css"},{"children":[{"tag":"text","text":"/*! Built from 54479b56f03669efdecb4496dda110bb60080b12:D */!function(e){var n={};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},i.t=function(o,t){if(1&t&&(o=i(o)),8&t)return o;if(4&t&&'object'==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,'default',{enumerable:!0,value:o}),2&t&&'string'!=typeof o)for(var n in o)i.d(e,n,function(t){return o[t]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,'a',o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p='',i(i.s=8)}([function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.amc=window.amc},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var n=e(9);o.BNComponent=n.BNComponent;var i=e(5);o.ComponentRegistry=i.ComponentRegistry;var s=e(11);o.Logger=s.Logger,o.logger=s.logger},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var r=e(0),i=e(3);function n(t,o,e){var n=o;r.amc.fn.isString(o)&&(n=t.getViewInComponentById(o)),n&&i.copyObj(e,n.style)}function s(t,o,e){if(o&&e){var n=o;if(r.amc.fn.isString(o)&&(n=t.getViewInComponentById(o)),n)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}}o.modifyElementStyle=n,o.modifyElementAttribute=s,o.modifyElementClass=function(t,o,e,n){var i=o;r.amc.fn.isString(o)&&(i=t.getViewInComponentById(o)),i&&(n?i.className+=e:i.className=e)},o.visibleElement=function(t,o,e){var n;void 0===e&&(e=!0),o&&(n=r.amc.fn.isString(o)?t.getViewInComponentById(o):o)&&(e?r.amc.fn.show(n):r.amc.fn.hide(n))},o.modifyElementCSS=function(t,o,e){if(o){var n=o;r.amc.fn.isString(o)&&(n=t.getViewInComponentById(o)),n&&e&&(n.style.cssText=e)}},o.createEmbedViPlugin=function(t,o,e,n){var i;if(r.amc.isAndroid)i=document.createElement('embed',o,function(){});else for(var s in i=document.createElement('embed'),o)o.hasOwnProperty(s)&&(i[s]=o[s]);return e&&(i.className=e),n?t.insertBefore(i,n):t.appendChild(i),i},window.DomUtils={modifyElementStyle:n,modifyElementAttribute:s}},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var r=e(0);o.mergeObject=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var e={};if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n];if(r.amc.fn.isObject(i))for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e},o.isPreRender=function(t){return t&&(t.local&&t.local.isPrerender||t.rpcData&&t.rpcData.isPrerender)},o.copyObj=function(t,o){for(var e in o||(o={}),t)t.hasOwnProperty(e)&&(o[e]=t[e]);return o},o.doNothing=function(){},o.tryJSONParse=function(t){if(r.amc.fn.isObject(t))return t;try{return JSON.parse(t)}catch(t){return{}}},o.checkEmptyObj=function(t){return r.amc.fn.isString(t)?0===t.length:!(t&&0!==Object.keys(t).length)},o.substrWithFontWidth=function(t,o,e){if(!t)return t;for(var n='',i=0,s=t.length,r=0;r<s;r++){var p=e?t[s-r-1]:t[r];if(/^[A-Za-z0-9\\(\\)]*$/.test(p)?i+=.45:i++,n+=p,o-1<i)break}return n},o.calculateFontWidth=function(t){if(!t)return 0;for(var o=0,e=/^[A-Za-z0-9\\.\\(\\)]*$/,n=0;n<t.length;n++)e.test(t[n])?o+=.45:o++;return Math.round(o)},o.deepCopy=function t(o){if(null==o||'object'!=typeof o)return o;var e;if(o instanceof Date)return(e=new Date).setTime(o.getTime()),e;if(o instanceof Array){e=[];for(var n=0,i=o.length;n<i;n++)e[n]=t(o[n]);return e}if(o instanceof Object){for(var s in e={},o)o.hasOwnProperty(s)&&(e[s]=t(o[s]));return e}throw new Error('Unable to copy obj! Its type isn\\'t supported.')},o.getConfig=function(t,o){setTimeout(function(){document.invoke('queryInfo',{queryKey:'configInfo',configKey:t},function(t){o(t.available)})},20)}},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var n=e(0);o.logAction=function(t,o){window.pageId||(window.pageId='|'+Math.random().toString(36).substr(2,3)),o=o?o+window.pageId:window.pageId,n.amc.fn.logAction(t,o)}},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var n=e(1),i=function(){function e(){}return e.registerComponent=function(t,o){o?e.facts[t]?n.logger.e('CmpReg#regCmp','E0002 '+t):(n.logger.i('CmpReg#regCmp','I0003 '+t),e.facts[t]=o):n.logger.e('CmpReg#regCmp','E0001 '+t+', '+o)},e.getKnownComponents=function(){return e.facts},e.getComponentJson=function(t){return e.jsons[t]},e.putComponentJson=function(t,o){o||n.logger.e('CmpReg#putCmpJ','E0004 '+t+', '+o),e.getComponentJson(t)?n.logger.e('CmpReg#putCmpJ','E0005 '+t):(n.logger.i('CmpReg#putCmpJ','I0006 '+t),e.jsons[t]=o)},e.createComponent=function(t){n.logger.i('CmpReg#crtCmp','I0007 '+t);var o=e.facts[t];return o?new o:(n.logger.e('CmpReg#crtCmp','E0008 '+t),null)},e.facts={},e.jsons={},e}();o.ComponentRegistry=i},function(t,p,o){'use strict';var n,e=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(p,'__esModule',{value:!0});var i,a,s,r,c,u,d,l,h=o(1),m=o(4),f=o(3),g=o(0),y=o(2),_=o(7),P=o(12);h.ComponentRegistry.registerComponent(_.Button.componentName,_.Button),h.ComponentRegistry.registerComponent(P.ButtonGroup.componentName,P.ButtonGroup),(u=i=p.VI_STATUS||(p.VI_STATUS={})).NORMAL='normal',u.VERIFYING='verifying',u.PAYING='paying',u.SUCCESS='success',(c=a||(a={})).viStart='viStart',c.viStatus='viStatus',c.viRpcRequest='viRpcRequest',c.viToPWD='viToPWD',c.viResult='viResult',p.EXIT_VI_SCENE={PPW_LOCK:'PPW_LOCK',FORGET_PASSWORD:'forgetPwd'},p.VI_LOG_ACTION_TYPE='VI',(r=s=p.VI_ACTION||(p.VI_ACTION={})).PRE_LOAD='viPreload',r.START='viStart',r.START_HUAWEI='viPreStart',r.RPC_RESPONSE='viRpcResponse',r.PAY_STATUS='payStatus',r.CLOSE_PAGE='viClosePage',r.FORGET_PWD_HANDLE_OTHER_PAY_WAY='viHandleOtherPayWay',p.VI_TYPE={PASSWORD:'pwd',SHORT_PASSWORD:'spwd',FINGERPRINT:'fp',BRACELET:'wl',FACE_IDENTIFICATION_CAPS:'FACEID',FACE_IDENTIFICATION_LOWER:'faceid',ZOLO_FACE_IDENTIFICATION:'ZFACE'},(l=d||(d={})).NEW='2.0',l.OLD='1.0',l.UNKNOWN='unknown';var I=function(o){function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.props={buttonGroup:new P.ButtonGroup,isPayBtnShown:!0,isPaySuccessShown:!1,processVIRpcRequest:function(){},processVIStart:function(){},processVIStatus:function(){},processVIToPWD:function(){},processVIResult:function(){},pwdTip:'',pwdType:'',rpcVIData:'',buttons:[],buttonIndex:0,supportVersion:d.UNKNOWN},t.onCreated=function(){},t.onMounted=function(){window.viCallback=t.viCallback.bind(t),t.props.viPlugin=y.createEmbedViPlugin(t.getViewInComponentById('viPwdBox'),{type:'VIPayPluginView',src:JSON.stringify({}),id:'realViPlugin'},'vi-finger amc-flex-1'),t.props.buttonGroup=t.getSubComponentById('buttonGroup',P.ButtonGroup),t.props.buttonGroup.setOnClick(t.onButtonClick.bind(t))},t}return e(n,o),n.prototype.addButton=function(t,o,e){this.props.buttons.push({dom:t,text:o}),this.props.buttonGroup.addButton(t,e),t.setText(n.VIButtonText2ButtonText(o)).changeLoadingStatus(_.BUTTON_STATUS.NORMAL,_.LOADING_TYPE.CIRCLE)},n.prototype.onButtonClick=function(t){this.props.buttonIndex=t},n.VIButtonText2ButtonText=function(t){var o;return(o={})[_.BUTTON_STATUS.NORMAL]=t.normal,o[_.BUTTON_STATUS.SUCCESS]=t.success,o[_.BUTTON_STATUS.LOADING]=t.paying,o},n.prototype.payButtonExposure=function(t,o){var e=this;this.props.isPayBtnShown=!0,setTimeout(function(){e.props.isPayBtnShown&&g.amc.fn.spmExposure(t,o,!0)},300)},n.prototype.setRpcVIData=function(t){return this.props.rpcVIData=t||'',this.preLoadVIPlugin(),this},n.prototype.showButton=function(t){return void 0===t&&(t=!0),(this.props.isPayBtnShown=t)?(this.props.buttonGroup.setVisible(!0),y.visibleElement(this,'viPwdBox',!1)):(this.props.buttonGroup.setVisible(!1),y.visibleElement(this,'viPwdBox',!0)),this},n.prototype.setPwdTip=function(t){return this.props.pwdTip=t||'',this},n.prototype.setProcessVIStart=function(t){return this.props.processVIStart=t,this},n.prototype.setProcessVIStatus=function(o){var e=this;return this.props.processVIStatus=function(t){t&&t.type&&(e.props.pwdType=t.type),t&&t.version&&(e.props.version=t.version),o(t)},this},n.prototype.setProcessVIRpcRequest=function(t){return this.props.processVIRpcRequest=t,this},n.prototype.setProcessVIToPWD=function(t){return this.props.processVIToPWD=t,this},n.prototype.setProcessVIResult=function(t){return this.props.processVIResult=t,this},n.prototype.getIsPaySuccessShown=function(){return this.props.isPaySuccessShown},n.prototype.getPwdType=function(){return this.props.pwdType||''},n.prototype.getActiveButton=function(){return this.props.buttons.length>this.props.buttonIndex?this.props.buttons[this.props.buttonIndex].dom:0<this.props.buttons.length?this.props.buttons[0].dom:void 0},n.prototype.getActiveButtonText=function(){return this.props.buttons.length>this.props.buttonIndex?this.props.buttons[this.props.buttonIndex].text:0<this.props.buttons.length?this.props.buttons[0].text:void 0},n.prototype.getButtonContainer=function(){return this.props.buttonGroup},n.prototype.toggleBioProcessLoading=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var o=this.props.buttons[this.props.buttonIndex].text;switch(t){case i.NORMAL:this.stopLoadingWithText();break;case i.VERIFYING:this.startLoadingWithText(_.LOADING_TYPE.CIRCLE,o[i.VERIFYING]||'');break;case i.PAYING:this.startLoadingWithText(_.LOADING_TYPE.CIRCLE,o[i.PAYING]||'');break;case i.SUCCESS:this.startLoadingWithText(_.LOADING_TYPE.CIRCLE,o[i.SUCCESS]||'',_.BUTTON_STATUS.SUCCESS);break;default:this.stopLoadingWithText()}}},n.prototype.startLoadingWithText=function(t,o,e){this.props.buttonIndex>=this.props.buttons.length||this.props.buttons[this.props.buttonIndex].dom.changeLoadingStatus(e||_.BUTTON_STATUS.LOADING,t,o||'')},n.prototype.stopLoadingWithText=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var o=this.props.buttons[this.props.buttonIndex];o.dom.changeLoadingStatus(_.BUTTON_STATUS.NORMAL,void 0,t||o.text[i.NORMAL])}},n.prototype.onPaySuccess=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var o=this.props.buttons[this.props.buttonIndex];o.dom.changeLoadingStatus(_.BUTTON_STATUS.SUCCESS,_.LOADING_TYPE.CIRCLE,o.text[i.PAYING]),y.modifyElementStyle(o.dom,'buttonText',{opacity:.2}),setTimeout(function(){y.modifyElementAttribute(o.dom,'buttonText',{innerText:t||o.text[i.SUCCESS]}),y.modifyElementStyle(o.dom,'buttonText',{opacity:1})},500),this.props.isPaySuccessShown=!0}},n.prototype.onPayFailure=function(t){if(!(this.props.buttonIndex>=this.props.buttons.length)){var o=this.props.buttons[this.props.buttonIndex];o.dom.changeLoadingStatus(_.BUTTON_STATUS.NORMAL,_.LOADING_TYPE.CIRCLE,t||o.text[i.NORMAL]),this.props.isPaySuccessShown=!0}},n.prototype.invoke=function(t,o){if(this.props.viPlugin)return this.props.viPlugin.invoke(t,o)},n.prototype.getVersion=function(){return this.props.version},n.prototype.getAuthType=function(t,o){var e=this;this.getVIConfig(function(){t(e.getAuthTypeIml(o))})},n.prototype.getAuthTypeIml=function(t){var o={};try{(o=this.invoke('getAuthType',{pwdTip:this.props.pwdTip,viData:t||this.props.rpcVIData,supportVersion:this.props.supportVersion}))&&o.version&&(this.props.version=o.version)}catch(t){g.amc.fn.logError('VI','getAuthType失败,'+t)}return m.logAction('authType-'+(this.props.supportVersion||'supportVersion')+'-'+(o&&o.version||'version'),p.VI_LOG_ACTION_TYPE),o},n.prototype.sendDataToVIPlugin=function(t){m.logAction(t&&t.action||'action',p.VI_LOG_ACTION_TYPE),y.modifyElementAttribute(this,this.props.viPlugin,{src:JSON.stringify(t)})},n.prototype.preLoadVIPlugin=function(){if(this.props.rpcVIData&&!f.checkEmptyObj(this.props.rpcVIData)){var t={action:s.PRE_LOAD,data:this.props.rpcVIData};this.sendDataToVIPlugin(t)}},n.prototype.getVIConfig=function(o){var e=this;this.props.supportVersion===d.UNKNOWN?g.amc.fn.sdkGreaterThanOrEqual('10.8.34')?(m.logAction('switch',p.VI_LOG_ACTION_TYPE),f.getConfig('degrade_vi_new',function(t){e.props.supportVersion=t?d.NEW:d.OLD,o()})):(this.props.supportVersion=d.OLD,o()):o()},n.prototype.startVIPlugin=function(t,o,e){var n=this;this.getVIConfig(function(){n.startVIPluginIml(t,o,e)})},n.prototype.startVIPluginIml=function(t,o,e){var n={supportVersion:this.props.supportVersion};this.props.pwdTip&&(n.pwdTip=this.props.pwdTip),e=f.copyObj(n,e),m.logAction('viLen|'+(this.props.rpcVIData||'').length+'-'+(e.supportVersion||'supportVersion'),p.VI_LOG_ACTION_TYPE);var i={action:t,data:o||this.props.rpcVIData,callbacks:{onViAction:'viCallback'},config:e};this.sendDataToVIPlugin(i)},n.prototype.sendResponseDataToVI=function(t){var o={action:s.RPC_RESPONSE,data:t};this.sendDataToVIPlugin(o)},n.prototype.showVILoadingWithPaymentResult=function(t){var o={action:s.PAY_STATUS,data:{status:t}};this.sendDataToVIPlugin(o)},n.prototype.sendForgetPwdPayWithOtherWayToVI=function(){var t={action:s.FORGET_PWD_HANDLE_OTHER_PAY_WAY,data:{from:'forgotPwd'}};this.sendDataToVIPlugin(t)},n.prototype.viCallback=function(t){var o,e;try{e=JSON.parse(t)||{action:'none',data:''}}catch(t){return void g.amc.fn.logError('VI','解析核身JSON失败'+t)}var n=e.action,i=e.data;if(g.amc.fn.isString(n)&&n===a.viToPWD){var s={};if(g.amc.fn.isString(i))try{s=JSON.parse(i)}catch(t){g.amc.fn.logError('pVI2PWD','json parse error')}else s=i;s&&(s.version?this.props.version=s.version:this.props.version=d.OLD)}var r=((o={})[a.viStart]=this.props.processVIStart,o[a.viStatus]=this.props.processVIStatus,o[a.viRpcRequest]=this.props.processVIRpcRequest,o[a.viToPWD]=this.props.processVIToPWD,o[a.viResult]=this.props.processVIResult,o.none=function(){},o);n!=a.viStatus&&n!=a.viToPWD&&n!=a.viResult&&m.logAction(n||'actType',p.VI_LOG_ACTION_TYPE),g.amc.fn.isString(n)&&r[n]&&r[n](i)},n.prototype.viPageCloseNotify=function(){var t={action:s.CLOSE_PAGE};this.sendDataToVIPlugin(t)},n.getComponentCSSRules=function(){return{'.vi-finger':'_VIPlugin_ply3-c-vi-finger','.vi-finger-box':'_VIPlugin_ply3-c-vi-finger-box','.bottom-box':'_VIPlugin_ply3-c-bottom-box'}},n.getComponentJson=function(){return{'sp-view-id':'viPluginBox',_c:'_VIPlugin_ply3-c-bottom-box amc-v-box',_t:'div',_cd:[{'sp-view-id':'buttonContainer',_c:'amc-v-box',_t:'div',_cd:[{'sp-component':'ButtonGroup','sp-component-id':'buttonGroup',_t:'div'}]},{'sp-view-id':'viPwdBox',_c:'_VIPlugin_ply3-c-vi-finger _VIPlugin_ply3-c-vi-finger-box amc-hidden',_t:'div'},{'sp-view-id':'bottomBlank',_c:'amc-iphone-x-pd-b',_t:'div'}]}},n.componentName='VIPlugin',n.componentHashName='VIPlugin_ply3',n}(h.BNComponent);p.VIPlugin=I},function(t,o,e){'use strict';var n,i,s,r,p=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(o,'__esModule',{value:!0});var a,c,u,d,l,h,m=e(1),f=e(0),g=e(2),y=e(3);(h=a=o.BUTTON_TYPE||(o.BUTTON_TYPE={})).PRIMARY='PRIMARY',h.NORMAL='NORMAL',(l=c=o.LOADING_TYPE||(o.LOADING_TYPE={}))[l.JuHua=0]='JuHua',l[l.CIRCLE=1]='CIRCLE',(d=u=o.BUTTON_STATUS||(o.BUTTON_STATUS={}))[d.NORMAL=0]='NORMAL',d[d.LOADING=1]='LOADING',d[d.SUCCESS=2]='SUCCESS',d[d.DISABLE=3]='DISABLE';var _=((i={})[a.NORMAL]=f.amc.path+'alipay_msp_loading_blue.gif',i[a.PRIMARY]=f.amc.res.loading,i),P=((s={})[a.NORMAL]='amc-loading-img amc-text-color-blue',s[a.PRIMARY]='amc-loading-img amc-text-white-clolor',s),I=((r={})[a.NORMAL]=f.amc.path+'alipay_msp_success_blue.gif',r[a.PRIMARY]=f.amc.res.success,r),v=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.props={type:a.PRIMARY,onClick:function(){},circleLoading:{},juHuaLoading:{}},t.onCreated=function(){},t.onMounted=function(){t.props.circleLoading=g.createEmbedViPlugin(t.getViewInComponentById('button'),{type:'MQPPayGifView'},'amc-hidden',t.getViewInComponentById('buttonText')),g.modifyElementCSS(t,t.props.circleLoading,'width: 24px; height: 24px;margin-right: 8px;'),t.props.juHuaLoading=t.getViewInComponentById('loadingJuHua'),f.amc.isAndroid&&g.modifyElementAttribute(t,t.props.juHuaLoading,{src:f.amc.path+'alipay_msp_indicator_white_loading'}),g.modifyElementAttribute(t,'buttonText',{accessibilityTraits:'Button'})},t}return p(t,o),t.prototype.setType=function(t){switch(this.props.type=t,g.modifyElementClass(this,this.props.juHuaLoading,P[t],!1),t){case a.NORMAL:g.modifyElementClass(this,'button','amc-btn-secondary amc-align-center amc-justify-center',!1),g.modifyElementCSS(this,'buttonText','color: #108ee9;'),g.modifyElementCSS(this,'button','background-color: #FFF;border: 2 #108EE9;font-size: 18px;');break;case a.PRIMARY:g.modifyElementClass(this,'button','amc-btn-primary amc-align-center amc-justify-center',!1),g.modifyElementCSS(this,'buttonText','color: #fff;')}return this},t.prototype.setVisible=function(t){return g.modifyElementStyle(this,'button',{display:t?'none':'flex'}),this},t.prototype.setOnClick=function(t){return this.props.onClick=t||y.doNothing,g.modifyElementAttribute(this,'button',{onclick:this.props.onClick}),this},t.prototype.setText=function(t){return this.props.text=t,this},t.prototype.changeTextAndOnClick=function(t,o){var e=void 0;switch(t){case u.SUCCESS:this.props.text&&(e=this.props.text[u.SUCCESS]),g.modifyElementAttribute(this,'button',{onclick:y.doNothing});break;case u.NORMAL:this.props.text&&(e=this.props.text[u.NORMAL]),g.modifyElementAttribute(this,'button',{onclick:this.props.onClick});break;case u.LOADING:this.props.text&&(e=this.props.text[u.LOADING]),g.modifyElementAttribute(this,'button',{onclick:y.doNothing});break;case u.DISABLE:g.modifyElementAttribute(this,'button',{onclick:y.doNothing});break;default:e=''}return void 0!==o?g.modifyElementAttribute(this,'buttonText',{innerText:o}):void 0!==e&&g.modifyElementAttribute(this,'buttonText',{innerText:e}),this},t.prototype.changeLoadingStatus=function(t,o,e){switch(o){case c.CIRCLE:g.visibleElement(this,this.props.juHuaLoading,!1),g.visibleElement(this,this.props.circleLoading,!1),this.changeTextAndOnClick(t,e),this.changeCircleLoading(t),g.visibleElement(this,this.props.circleLoading,t!==u.NORMAL);break;case c.JuHua:g.visibleElement(this,this.props.juHuaLoading,!1),g.visibleElement(this,this.props.circleLoading,!1),this.changeTextAndOnClick(t,e),g.visibleElement(this,this.props.juHuaLoading,t!==u.NORMAL);break;default:this.changeLoadingStatus(u.NORMAL,c.CIRCLE,e)}},t.prototype.changeCircleLoading=function(t){var o=this.props.circleLoading;switch(t){case u.LOADING:g.modifyElementAttribute(this,o,{src:_[this.props.type]});break;case u.NORMAL:g.modifyElementAttribute(this,o,{src:''});break;case u.SUCCESS:g.modifyElementAttribute(this,o,{src:I[this.props.type]});break;default:f.amc.fn.logError('Button','loading-'+(t||'status'))}},t.getComponentCSSRules=function(){return{'.text-primary':'_Button_0k44-c-text-primary'}},t.getComponentJson=function(){return{'sp-view-id':'button',_c:'amc-btn-primary amc-align-center amc-justify-center',_t:'div',_cd:[{'sp-view-id':'loadingJuHua',src:'indicatior',_c:'amc-loading-img amc-text-white-clolor',alt:'',_t:'img'},{'sp-view-id':'buttonText',_c:'_Button_0k44-c-text-primary amc-ellipsis',_t:'label',_x:'{{pay_right_now}}'}]}},t.componentName='Button',t.componentHashName='Button_0k44',t}(m.BNComponent);o.Button=v},function(t,o,e){'use strict';var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(o,'__esModule',{value:!0});var s=e(2),r=e(0),p=e(1),a=e(6),c=e(4),u=e(3),d=e(13);p.ComponentRegistry.registerComponent(a.VIPlugin.componentName,a.VIPlugin);var l=r.amc.path+'alipay_msp_loading_blue.gif',h=r.amc.path+'alipay_msp_success_blue.gif',m='/pwd/validate';function f(){r.amc.fn.showLoading(!1,!1)}function g(t){document.body.style.opacity=t?'0.96':'0'}var y=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.props=new function(){},o.onCreated=function(){window.onDestroy=o.onDestroy.bind(o),window.onKeyDown=o.onKeyDown.bind(o),o.props.viPlugin=new a.VIPlugin},o.onMounted=function(){try{o.props.rpcData=r.amc.rpcData,o.props.btnText=o.props.rpcData.btnText||'{{pay}}',o.props.successTxt=o.props.rpcData.successText||'{{pay_ok}}',o.props.payingText=o.props.rpcData.doingText||'{{paying}}',o.props.confirmAction=d.buildConfirmActionWithAct(m,o.props.rpcData.confirmAct),o.props.viPlugin=o.getSubComponentById('viPluginComponent',a.VIPlugin),o.props.viPlugin.showButton(!1).setRpcVIData(o.props.rpcData.VIData).setProcessVIStart(o.processVIStart.bind(o)).setProcessVIStatus(o.processVIStatus.bind(o)).setProcessVIRpcRequest(o.processVIRpcRequest.bind(o)).setProcessVIToPWD(o.processVIToPWD.bind(o)).setPwdTip(o.props.rpcData.pwdTip),s.visibleElement(o.props.viPlugin,'bottomBlank',!1),s.modifyElementClass(o.props.viPlugin,'viPwdBox','vi-pwd-box',!1);var t=document.getElementById('realViPlugin');t&&(t.className='vi-pwd'),s.modifyElementAttribute(o,'forgetPwdText',{onclick:o.forgetPwd.bind(o)}),s.modifyElementAttribute(o,'loadTxt',{innerText:o.props.payingText}),o.initNav(),o.initUI()}catch(t){r.amc.fn.logPageInit&&r.amc.fn.logPageInit(!1)}},o}return i(o,t),o.prototype.onBack=function(){r.amc.fn.spmClick('a283.b4038.c9698.d17397',{}),r.amc.fn.spmPageDestroy('a283.b4038',{}),document.submit({action:{name:this.props.backAction}})},o.prototype.initNav=function(){var t=r.amc.res.close;this.props.rpcData.backAction?this.props.backAction=this.props.rpcData.backAction:'deposit'===this.props.rpcData.bizType||this.props.rpcData.payOrder||'back'===this.props.rpcData.backAct?(this.props.backAction='loc:back',t=r.amc.res.arrowLeft):this.props.backAction='loc:exit';var o=r.amc.fn.iNav(t,'{{input_pwd}}','','',this.onBack.bind(this),void 0);document.body.insertBefore(o,this.getViewInComponentById('container')),r.amc.fn.spmExposure('a283.b4038.c9698.d17397',{},!1)},o.prototype.isIOSBioAuth=function(t){var o=t||this.props.viPlugin.getPwdType();return'fp'===o||'faceid'===o||'ZFACE'===o},o.prototype.isAndroidBioAuth=function(t){var o=t||this.props.viPlugin.getPwdType();return'fp'===o||'ZFACE'===o||'FACEID'===o},o.prototype.initUIIml=function(t){var o=t&&t.type||a.VI_TYPE.PASSWORD,e=t&&t.version,n=(o===a.VI_TYPE.PASSWORD||o===a.VI_TYPE.SHORT_PASSWORD)&&'2.0'!==e;(!n&&this.isIOSBioAuth(o)||'2.0'===e)&&r.amc.fn.showLoading(!0,!0),g(n),this.startVIPlugin(this.props.rpcData.VIData),r.amc.fn.spmExposure('a283.b4038.c9698.d17395',{},!1),r.amc.fn.logPageInit&&r.amc.fn.logPageInit(!0)},o.prototype.initUI=function(){r.amc.isIOS?this.props.viPlugin.getAuthType(this.initUIIml.bind(this)):(this.startVIPlugin(this.props.rpcData.VIData),r.amc.fn.spmExposure('a283.b4038.c9698.d17395',{},!1),r.amc.fn.logPageInit&&r.amc.fn.logPageInit(!0))},o.prototype.processVIStart=function(t){var o=(t=t||{}).otherPayWay;o&&('Y'===o.config&&'string'==typeof o.content?(s.modifyElementAttribute(this,'forgetPwdText',{innerText:o.content}),this.props.forgetPwdWithOtherVIWay=!0):this.props.forgetPwdWithOtherVIWay=!1)},o.prototype.showPwdInputAndTips=function(){var t=this.props.viPwdTip||this.props.rpcData.pwdTip;t?(this.props.viPwdTip='',this.props.rpcData.pwdTip='',s.modifyElementAttribute(this,'tips',{innerText:t}),r.amc.fn.show(this.getViewInComponentById('tips'))):r.amc.fn.hide(this.getViewInComponentById('tips')),s.modifyElementAttribute(this,'pwdLoadGif',{src:''}),r.amc.fn.hide(this.getViewInComponentById('pwdLoad')),r.amc.fn.show(this.getViewInComponentById('pwdBox'))},o.prototype.processVIStatus=function(t){if(t){var o=t.status,e=t.version,n=t.scene;if(c.logAction((t.type||'type')+'-'+(o||'status')+'-'+(e||'version')+'-'+(n||'scene'),a.VI_LOG_ACTION_TYPE),'start'===o){if(this.props.viPlugin.getPwdType()!==a.VI_TYPE.PASSWORD&&this.props.viPlugin.getPwdType()!==a.VI_TYPE.SHORT_PASSWORD||'2.0'===e)g(!1);else if(this.props.viPwdTip=t.tip,g(!0),this.showPwdInputAndTips(),this.props.viPlugin.getPwdType()===a.VI_TYPE.SHORT_PASSWORD&&r.amc.isPlus){var i=document.getElementById('realViPlugin');s.modifyElementClass(this.props.viPlugin,'viPwdBox','vi-pwd-box-plus',!1),i&&(i.className='vi-pwd-plus')}}else'abort'===o?r.amc.fn.exit():'awaitUser'===o?(this.props.viPlugin.getPwdType()!==a.VI_TYPE.PASSWORD&&this.props.viPlugin.getPwdType()!==a.VI_TYPE.SHORT_PASSWORD||this.showPwdInputAndTips(),this.isIOSBioAuth()&&r.amc.isIOS&&'2.0'!=this.props.viPlugin.getVersion()&&f()):'findPwd'===o&&r.amc.isIOS&&r.amc.fn.setResult({ResultStatus:'6006'})}},o.prototype.beforeSendPwdPay=function(){r.amc.fn.hide(this.getViewInComponentById('tips')),r.amc.fn.hide(this.getViewInComponentById('pwdBox')),r.amc.fn.show(this.getViewInComponentById('pwdLoad')),s.modifyElementAttribute(this,'pwdLoadGif',{src:l})},o.prototype.showSuccessAnimation=function(t){s.modifyElementAttribute(this,'loadTxt',{innerText:t||this.props.successTxt}),s.modifyElementAttribute(this,'pwdLoadGif',{src:h}),r.amc.fn.show(this.getViewInComponentById('pwdLoad'))},o.prototype.onPaymentFail=function(){this.showPwdInputAndTips()},o.prototype.onReceivePwdPay=function(t){'0'===(t=t||{}).pageloading&&this.getViewInComponentById('pwdLoadGif').src===l?r.amc.fn.hide(this.getViewInComponentById('pwdLoad')):'1'===t.pageloading&&r.amc.fn.show(this.getViewInComponentById('pwdLoad')),'0001'===t.status?this.showSuccessAnimation(t.successText):'0002'===t.status&&this.onPaymentFail()},o.prototype.submitPay=function(t,e){var n=this;'2.0'===this.props.viPlugin.getVersion()?this.props.confirmAction.loadtxt=void 0:r.amc.isAndroid&&this.isAndroidBioAuth()?this.props.confirmAction.loadtxt=void 0:'true'===this.props.rpcData.payRetrieveOnce&&r.amc.isIOS&&this.isIOSBioAuth()?(f(),this.props.confirmAction.loadtxt=void 0):r.amc.isIOS&&'ZFACE'===this.props.viPlugin.getPwdType()?this.props.confirmAction.loadtxt=void 0:this.props.confirmAction.loadtxt='';var o={action:this.props.confirmAction};o.action.params=u.mergeObject(o.action.params||{},{VIData:t},this.props.rpcData.params||{}),'openservice'==this.props.rpcData.biztype||'/pwd/validate'!==this.props.confirmAction.name&&'/cashier/pay'!==this.props.confirmAction.name&&'/cashier/payment'!==this.props.confirmAction.name||(o.action.neec='6004'),document.asyncSubmit(o,function(t){if((t=t||{}).confirmAct&&t.confirmAct.name&&(n.props.confirmAction=d.buildConfirmActionWithAct(m,t.confirmAct)),e&&e(t),t.VIData){try{var o=JSON.parse(t.VIData).finishCode;c.logAction('viCode|'+o,a.VI_LOG_ACTION_TYPE)}catch(t){}n.props.viPlugin.sendResponseDataToVI(t.VIData)}})},o.prototype.beforeSendBioPay=function(){this.props.viPlugin.showVILoadingWithPaymentResult('paying')},o.prototype.onReceiveBioPay=function(t){'0001'===(t=t||{}).status?this.props.viPlugin.showVILoadingWithPaymentResult('success'):'0002'===t.status&&this.props.viPlugin.showVILoadingWithPaymentResult('fail')},o.prototype.processVIRpcRequest=function(t){this.props.viPlugin.getPwdType()===a.VI_TYPE.PASSWORD||this.props.viPlugin.getPwdType()===a.VI_TYPE.SHORT_PASSWORD?(this.beforeSendPwdPay(),this.submitPay(t,this.onReceivePwdPay.bind(this))):(this.beforeSendBioPay(),this.submitPay(t,this.onReceiveBioPay.bind(this)))},o.prototype.processVIResult=function(t){d.commonProcessVIResult(t,{viPlugin:this.props.viPlugin})},o.prototype.processVIToPWD=function(t){t=t||{},this.isIOSBioAuth()&&r.amc.isIOS&&'2.0'!=this.props.viPlugin.getVersion()&&f(),this.startVIPlugin(t)},o.prototype.startVIPlugin=function(t){var o={pwdInputBtn:this.props.btnText,pwdPlaceHolder:'{{alipaypwd}}',fpAlertMsg:'{{confirm_exit}}',fpAlertCancelBtn:'{{confirm_btn}}',fpAlertToPwdBtn:'{{input_pwd_s}}',pwdInputTip:this.props.rpcData.pwdTip,loadingPayingText:this.props.payingText,loadingPaySuccessText:this.props.successTxt,shouldDismissAfterAuth:'N'};this.props.viPlugin.startVIPlugin(a.VI_ACTION.START,t,o)},o.prototype.onDestroy=function(){this.props.viPlugin.viPageCloseNotify()},o.prototype.onKeyDown=function(){4===document.event.which&&this.onBack()},o.prototype.forgetPwd=function(){if(r.amc.fn.spmClick('a283.b4038.c9698.d17395',{}),this.props.forgetPwdWithOtherVIWay)r.amc.fn.postNotification('kMQPFindPwdNotification',{}),this.props.viPlugin.sendForgetPwdPayWithOtherWayToVI();else{var t='';this.props.rpcData.logon_id&&(t='&loginId='+this.props.rpcData.logon_id);var o='alipays://platformapi/startApp?appId=20000013&pwdType=phonePassword'+t+'&bizScene=mobilecashier_sdk_pay';r.amc.fn.postNotification('kMQPFindPwdNotification',{}),document.submit({action:{name:'loc:openurl(\\''+o+'\\',\\'0\\')'}})}},o.getComponentCSSRules=function(){return{'.stretch-self':'_PwdCheckPage_y9mz-c-stretch-self','.pd-lr':'_PwdCheckPage_y9mz-c-pd-lr','.pd-t':'_PwdCheckPage_y9mz-c-pd-t','.pd-t-l':'_PwdCheckPage_y9mz-c-pd-t-l','.font-m':'_PwdCheckPage_y9mz-c-font-m','.font-l-white':'_PwdCheckPage_y9mz-c-font-l-white','.amc-i-nav-m-box':'_PwdCheckPage_y9mz-c-amc-i-nav-m-box','.pwd-tips':'_PwdCheckPage_y9mz-c-pwd-tips','.forget-pwd-box':'_PwdCheckPage_y9mz-c-forget-pwd-box'}},o.getComponentJson=function(){return{'sp-view-id':'container',_c:'amc-v-box amc-flex-1',_t:'div',_cd:[{'sp-view-id':'iLine',_c:'amc-1px-title-line',_t:'div'},{'sp-view-id':'mainBody',_c:'amc-v-box amc-flex-1',_t:'div',_cd:[{'sp-view-id':'tipsBox',_c:'amc-flex-center _PwdCheckPage_y9mz-c-pd-lr _PwdCheckPage_y9mz-c-pd-t',_t:'div',_cd:[{'sp-view-id':'tips',_c:'amc-flex-1 _PwdCheckPage_y9mz-c-pwd-tips amc-text-center amc-ellipsis-2-line',_t:'label'}]},{'sp-view-id':'pwdBox',_c:'_PwdCheckPage_y9mz-c-pd-lr amc-v-box',_t:'div',_cd:[{'sp-component':'VIPlugin','sp-component-id':'viPluginComponent',_t:'div'},{_c:'_PwdCheckPage_y9mz-c-forget-pwd-box amc-flex-1 amc-flex-center',_t:'div',_cd:[{'sp-view-id':'forgetPwdText',_c:'amc-text-center amc-theme-color amc-flex-1 amc-ellipsis-2-line _PwdCheckPage_y9mz-c-font-m',_t:'label',_x:'{{forget_pwd}}'}]}]},{'sp-view-id':'pwdLoad',_c:'amc-loading-box',_t:'div',_cd:[{_c:'amc-flex-space-1',_t:'div'},{_y:'MQPPayGifView','sp-view-id':'pwdLoadGif',_c:'amc-load-img',_t:'embed'},{_c:'_PwdCheckPage_y9mz-c-pd-t-l _PwdCheckPage_y9mz-c-stretch-self _PwdCheckPage_y9mz-c-pd-lr',_t:'div',_cd:[{'sp-view-id':'loadTxt',_c:'_PwdCheckPage_y9mz-c-font-l-white amc-flex-1 amc-text-center amc-ellipsis-2-line',_t:'label',_x:'{{paying}}'}]},{_c:'amc-flex-space-2',_t:'div'}]}]}]}},o.componentName='PwdCheckPage',o.componentHashName='PwdCheckPage_y9mz',o}(p.BNComponent),_=r.amc.fn.exit;r.amc.fn.exit=function(){'back'===r.amc.rpcData.backAct?(r.amc.fn.showLoading(!1,!1),r.amc.fn.back()):_.apply(r.amc.fn)},window.onLoad=function(){(new y).mountTo(document.body)}},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var g=e(1),n=e(10),y=e(5),i=function(){function t(){this._componentName=this.constructor.componentName,this._htmlString=this.constructor.componentHTML,this._componentJson=this.constructor.getComponentJson(),this._componentCSSRules=this.constructor.getComponentCSSRules(),this._hash=n.randomStr(),this._hasRootViewBuilt=!1,this._rootView=null,this._componentId='',this._subComponents=[],this._subComponentsMap={},this._viewsIdMap={}}return t.getComponentCSSRules=function(){throw new Error('E0100')},t.getComponentJson=function(){throw new Error('E0101')},t.prototype.mountTo=function(t,o){if(t){var e=this._acquireRootView();e?(o?t.insertBefore(e,o):t.appendChild(e),this._triggerOnMounted()):g.logger.e('Cmp#mT','E0103 '+e)}else g.logger.e('Cmp#mT','E0102 '+t)},Object.defineProperty(t.prototype,'debugName',{get:function(){return'<'+this._componentName+' '+this._hash+' id:'+this._componentId+'>'},enumerable:!0,configurable:!0}),t.prototype.getMountedRootView=function(){return this._hasRootViewBuilt?this._rootView:null},t.prototype.getMountedParentView=function(){var t=this.getMountedRootView();return t?t.parentNode:null},t.prototype.getSubComponentById=function(t,o){var e=this.debugName+'#SCById',n=this._subComponentsMap[t];if(!n)return null;var i='',s='';try{i=n.constructor.componentName,s=o.componentName}catch(t){g.logger.e(e,'E0104 '+t)}return i&&i===s?n:(g.logger.e(e,'E0105 '+i+', '+s),null)},t.prototype.getViewInComponentById=function(t){return this._viewsIdMap[t]},t.prototype.getComponentId=function(){return this._componentId},t.prototype.createStyledElement=function(t,o,e){var n=document.createElement(t);if(n)return t&&(n.className+=' '+this._css(t,2)),e&&(n.className+=' '+this._csses(e,1)),o&&(n.className+=' '+this._css('#'+o,2)),n},t.prototype.applyStyleTo=function(t,o){t&&(t.className+=' '+this._csses(o,1))},t.prototype.css=function(t){return this._css(t,0)},t.prototype.csses=function(t){return this._csses(t,0)},t.prototype._csses=function(t,o){var e=this;return t.split(' ').map(function(t){return e._css(t,o)}).join(' ')},t.prototype._css=function(t,o){if(!t)return'';var e=this._componentCSSRules;if(!e)return t;switch(t.charAt(0)){case'#':case'.':return e[t]||t;default:switch(o){case 0:return e['.'+t]||e[t]||t;case 1:return e['.'+t]||t;case 2:default:return t}}},t.prototype._triggerOnMounted=function(){g.logger.i('','I0106 '+this.debugName);for(var t=0,o=this._subComponents;t<o.length;t++){var e=o[t];e&&e._triggerOnMounted()}this.onMounted&&this.onMounted()},t.prototype._getMethod=function(t){var o=this[t];return o instanceof Function?o:null},t.prototype._acquireComponentJson=function(){var t=this.debugName+'#acCJ',o=y.ComponentRegistry.getComponentJson(this._componentName);return o?(g.logger.i(t,'I0107'),o):void 0!==this._componentJson?(g.logger.i(t,'I0108'),y.ComponentRegistry.putComponentJson(this._componentName,this._componentJson),this._componentJson):(g.logger.e(t,'E0109'),null)},t.prototype._acquireRootView=function(){var t=this.debugName+'#acRV';if(this._hasRootViewBuilt)return g.logger.i(t,'I0110'),this._rootView;var o=this._acquireComponentJson();return o?(this._rootView=this._convertJsonToBNNode(o),this._hasRootViewBuilt=!0,g.logger.i(t,'I0112'),this._rootView):(g.logger.e(t,'E0111'),null)},t.prototype._convertJsonToBNNode=function(t){var o=this.debugName+'#cJTB',e=[];if(void 0!==t._cd)for(var n=0,i=t._cd;n<i.length;n++){var s=i[n];(f=this._convertJsonToBNNode(s))&&e.push(f)}if(void 0===t._t)return null;var r=document.createElement(t._t);if(!r)return null;var p=t['bn-component']||t['sp-component'];if(p){g.logger.i(o,'I0113 '+p);var a=y.ComponentRegistry.createComponent(p);if(!a)return g.logger.e(o,'E0114 '+p+', '+a),null;var c=t['bn-component-id']||t['sp-component-id'];return c&&(a._componentId=c),a.onCreated&&a.onCreated(),g.logger.i(o,'I0115 '+a.debugName+', '+c),this._subComponents.push(a),c&&!this._subComponentsMap[c]&&(this._subComponentsMap[c]=a),a._acquireRootView()}var u=t['bn-view-id']||t['sp-view-id'];for(var d in u&&(g.logger.i(o,'I0116 '+u),this._viewsIdMap[u]||(this._viewsIdMap[u]=r)),t._i&&(r.id=t._i),t._c&&(r.className=t._c),t._s&&(r.style.cssText=t._s),t._x&&(r.innerText=t._x),t._y&&(r.type=t._y),t)if(t.hasOwnProperty(d))if(0===d.indexOf('on')){var l=this._getMethod(t[d]);l&&(r[d]=l.bind(this,r))}else 0===d.indexOf('_')||0===d.indexOf('bn-')||0===d.indexOf('sp-')||(r[d]=t[d]);for(var h=0,m=e;h<m.length;h++){var f=m[h];r.appendChild(f)}return r},t.componentName='',t.componentHTML='',t.componentCSS='',t.componentHashName='',t}();o.BNComponent=i},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.randomStr=function(){return Math.floor(61439*Math.random()+4096).toString(16)}},function(t,o,e){'use strict';var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(o,'__esModule',{value:!0});var s=function(){function s(){this.enabled=!0}return s.fmtLine=function(t,o,e,n){var i='';return n&&(i=n instanceof Error?'- '+n.name+': '+n.message+' - '+n.stack:'- '+n),'['+t+']['+s.fmtTime()+']['+o+']'+e+' '+i},s.fmtTime=function(){var t=new Date;return t.getHours()+':'+t.getMinutes()+':'+t.getSeconds()+'.'+t.getMilliseconds()},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s}();o.Logger=s,o.logger=new(function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return i(o,t),o.prototype.e=function(t,o,e){},o.prototype.i=function(t,o,e){},o}(s))},function(t,o,e){'use strict';var n,i=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(o,'__esModule',{value:!0});var s=e(7),r=e(1),p=e(2);r.ComponentRegistry.registerComponent(s.Button.componentName,s.Button);var a=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.props={buttonsNum:0,container:{},buttons:[],onClick:function(t){}},t.onCreated=function(){},t.onMounted=function(){t.props.container=t.getViewInComponentById('buttonContainer')},t}return i(t,o),t.prototype.addButton=function(t,o){var e=this;0===this.props.buttons.length&&this.initDom(),this.props.buttons.push(t),t.mountTo(this.props.container);var n=this.props.buttons.length-1;t.setOnClick(function(){e.props.onClick(n),o&&o()})},t.prototype.setOnClick=function(t){this.props.onClick=t},t.prototype.setVisible=function(t){return p.modifyElementStyle(this,'buttonContainer',{display:t?'flex':'none'}),this},t.prototype.affectAllButtons=function(t){for(var o=0;o<this.props.buttons.length;o++)this.props.buttons[o].changeLoadingStatus(t)},t.prototype.initDom=function(t){void 0===t&&(t=!1),t?p.modifyElementClass(this,this.props.container,'',!1):this.applyStyleTo(this.props.container,'pay-btn-box')},t.getComponentCSSRules=function(){return{'.pay-btn-box':'_ButtonGroup_1afd-c-pay-btn-box'}},t.getComponentJson=function(){return{'sp-view-id':'buttonContainer',_t:'div'}},t.componentName='ButtonGroup',t.componentHashName='ButtonGroup_1afd',t}(r.BNComponent);o.ButtonGroup=a},function(t,o,e){'use strict';Object.defineProperty(o,'__esModule',{value:!0});var n=e(14),r=e(6),p=e(4),a=e(0);function i(t,o,e,n){var i={action:{name:'loc:bnvb'},param:{tplid:'QUICKPAY@cashier-pwd-check-flex',tpl:o.viPwdTpl,data:{payOrder:e,pwdTip:o.pwdTip,logon_id:o.logon_id,VIData:t,confirmAct:n}}};document.submit(i)}o.buildConfirmActionWithAct=function(t,o){var e={name:t};return o&&o.name&&(e=o),e.loadtxt='',e.viChannelMode=n.VI_CHANNEL_MODE_FROM_TEMPLATE,e},o.commonStartVIPlugin=function(t,o){var e=o.showAgreement?'{{agree_auth_fp}}':'{{auth_finger_or}}',n=o.isHuaWeiFinger?r.VI_ACTION.START_HUAWEI:r.VI_ACTION.START,i=o.isHuaWeiFinger?{hwPaySuccessText:'{{pay_success}}',hwAuthingText:'{{auth_fingering}}',hwPayingText:'{{paying}}',hwRetryText:'{{retry_finger}}',hwAuthTip:e,hwInputPwdTip:'{{input_pwd_s}}'}:{fpAlertMsg:'{{confirm_exit}}',fpAlertCancelBtn:'{{confirm_btn}}',fpAlertToPwdBtn:'{{input_pwd_s}}',shouldDismissAfterAuth:'Y',pwdInputBtn:'{{confirm_btn}}',pwdPlaceHolder:'{{alipaypwd}}',pwdInputTip:o.rpcData.pwdTip,loadingPayingText:o.rpcData.doingText||'{{paying}}',loadingPaySuccessText:o.rpcData.successText||'{{pay_ok}}',LoginId:o.rpcData.logon_id};o.setViCallBack&&(o.isHuaWeiFinger?o.setViCallBack.HuaWei&&o.setViCallBack.HuaWei():o.setViCallBack.standard&&o.setViCallBack.standard()),o.viPlugin.startVIPlugin(n,t,i)},o.commonProcessVIToPWD=function(t,o){var e={};if(a.amc.fn.isString(t))try{e=JSON.parse(t)}catch(t){a.amc.fn.logError('pVI2PWD','json parse error')}else e=t;var n=e.version;p.logAction('VIToPwD-'+(n||'version'),r.VI_LOG_ACTION_TYPE),'2.0'!==n?(o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.NORMAL),i(t,o.rpcData,o.canGoBack,o.confirmAction)):o.startVIPlugin(t,!1)},o.gotoPwdPage=i,o.processVIRpcRequest=function(t,o){o.submitPay(t,function(t){'0001'===t.status&&o.viPlugin.onPaySuccess(),o.viPlugin.getIsPaySuccessShown()||('1'===t.pageloading?o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.PAYING):'0'===t.pageloading&&o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.NORMAL))})&&o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.PAYING)},o.commonProcessVIResult=function(t,o){var e={};if(a.amc.fn.isString(t))try{e=JSON.parse(t)}catch(t){a.amc.fn.logError('processVIResult','json parse error')}else e=t;p.logAction('viResult-'+(e.code||'code')+'-'+(o.viPlugin.getVersion()||'version')+'-'+(o.viPlugin.getPwdType()||'VIType'),r.VI_LOG_ACTION_TYPE),'2.0'!==o.viPlugin.getVersion()||'1000'!==e.code||o.viPlugin.getPwdType()!==r.VI_TYPE.PASSWORD&&o.viPlugin.getPwdType()!==r.VI_TYPE.SHORT_PASSWORD||(a.amc.isIOS?a.amc.fn.showLoading(!0,!0):setTimeout(function(){document.invoke('showLoading')},10))},o.processVIStatus=function(t,o){if(t){var e=t.status,n=t.type,i=t.version,s=t.scene;p.logAction((n||'type')+'-'+(e||'status')+'-'+(i||'version')+'-'+(s||'scene'),r.VI_LOG_ACTION_TYPE),'start'===e?(o.setCanGoBack('wl'!==n),n!==r.VI_TYPE.PASSWORD&&n!==r.VI_TYPE.SHORT_PASSWORD||'2.0'===i?o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.VERIFYING):o.processVIToPWD()):'end'===e?o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.NORMAL):'abort'===e?n!==r.VI_TYPE.SHORT_PASSWORD&&n!==r.VI_TYPE.PASSWORD||r.EXIT_VI_SCENE.hasOwnProperty(s)?a.amc.fn.exit():o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.NORMAL):'awaitUser'===e&&o.viPlugin.toggleBioProcessLoading(r.VI_STATUS.NORMAL)}},o.pwdFreePay=function(t,o){var e={action:t};e.action.neec='6004',o.toggleBioProcessLoading(r.VI_STATUS.VERIFYING),document.asyncSubmit(e,function(t){if(!o.getIsPaySuccessShown())switch(t.status){case'0001':o.onPaySuccess();break;case'0000':case'0002':case'0006':o.onPayFailure()}})}},function(t,o,e){'use strict';var n;Object.defineProperty(o,'__esModule',{value:!0}),o.VI_CHANNEL_MODE_FROM_TEMPLATE='1',(n=o.SCALE_FACTOR||(o.SCALE_FACTOR={})).LEVEL_0='0',n.LEVEL_1='1',n.LEVEL_2='2',n.LEVEL_3='3',n.LEVEL_4='4'}])"}],"tag":"script","type":"text/javascript"}],"tag":"head"},{"css":"amc-i-body","tag":"body","id":"body","onload":"onLoad()"}],"tag":"html"},"publishVersion":"150924","name":"cashier-pwd-check-flex","format":"JSON","tag":"QUICKPAY","time":"0254","tplId":"QUICKPAY@cashier-pwd-check-flex","tplVersion":"5.3.7"}