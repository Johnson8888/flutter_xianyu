{"time":"0002","tplId":"MOBILEIC@menu","publishVersion":"150603","tag":"MOBILEIC","name":"menu","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"meta","src":"VIVerifyCore.bundle/mic.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"VIVerifyCore.bundle/mic.css"},{"tag":"script","src":"VIVerifyCore.bundle/vi-amc.js"},{"tag":"script","src":"VIVerifyCore.bundle/mic.js"},{"tag":"meta","src":"android-phone-securitycommon-verifyidentitybiz/mic.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"android-phone-securitycommon-verifyidentitybiz/mic.css"},{"tag":"script","src":"android-phone-securitycommon-verifyidentitybiz/vi-amc.js"},{"tag":"script","src":"android-phone-securitycommon-verifyidentitybiz/mic.js"},{"tag":"script","children":[{"text":"var getTag = amc.fn.getById;\n            var createTag = amc.fn.create;\n            var rpc = amc.rpcData;\n\n            //### 初始化\n            function init() {\n                var nav = amc.fn.getNav(amc.res.navBack, '{{return}}', '身份验证', null, null, onBack, null);\n                getTag('bodyContainer').insertBefore(nav, getTag('mainBody'));\n                \n                var menuList = [];\n                var firstMenuSection = {'title': rpc['title'], 'menu': rpc['menu']};\n                if (rpc['title'] && rpc['menu']) {\n                    menuList.push(firstMenuSection);\n                }\n                if (rpc['innerMenu'] && rpc['innerMenu'].length > 0) {\n                    menuList = menuList.concat(rpc['innerMenu']);\n                }\n                \n                for (var i = 0; i < menuList.length; i++) {\n                    var menuItem = menuList[i];\n                    createMenuTitle(menuItem['title']);\n                    for (var j = 0; j < menuItem['menu'].length; j++) {\n                        var obj = menuItem['menu'][j];\n                        createMenuTable(obj, j);\n                    }\n                }\n            }\n\n            //### 后退\n            function onBack() {\n                mic.fn.onBack();\n            }\n\n            function onKeyDown() {\n                if (event.which == 4) {\n                    onBack();\n                }\n            }\n        \n            // 创建标题\n            function createMenuTitle(title) {\n                if (!title) {\n                    return;\n                }\n                var menuTable = getTag('menuTable');\n                var tableDiv = createTag('div');\n                tableDiv.className = 'vi-hintDiv amc-pd-lr';\n                var tableLabel = createTag('label');\n                tableLabel.className = 'vi-hintText';\n                tableLabel.innerText = title;\n                \n                tableDiv.appendChild(tableLabel);\n                menuTable.appendChild(tableDiv);\n            }\n\n            // 创建菜单项\n            function createMenuTable(productInfo, index) {\n                if (!productInfo) {\n                    return;\n                }\n                var menuTable = getTag('menuTable');\n                var tableItem = createTag('div');\n                tableItem.className = 'vi-cell';\n                tableItem.value = index;\n                tableItem.onclick = function() {\n                    onCellClick(productInfo['token']);\n                }\n\n                var cellContentDiv = createTag('div');\n                cellContentDiv.className = 'cellContent amc-pd-lr';\n                \n                var titleDiv = createTag('div');\n                titleDiv.className = 'title-div';\n                var titleHead = createTag('label');\n                titleHead.className = 'title-text';\n                titleHead.innerText = productInfo['name'];\n                titleDiv.appendChild(titleHead);\n                \n                var arrowImgDiv = createTag('div');\n                arrowImgDiv.className = 'arrow-div';\n                var arrowImg = createTag('img');\n                arrowImg.src = 'VIVerifyCore.bundle/alipay_vi_arrow';\n                arrowImg.className = 'arrow-div';\n                arrowImgDiv.appendChild(arrowImg);\n                \n                cellContentDiv.appendChild(titleDiv);\n                cellContentDiv.appendChild(arrowImgDiv);\n                \n                tableItem.appendChild(cellContentDiv);\n                \n                var line = createTag('div');\n                line.className = 'amc-1px-line line-leftPadding';\n                menuTable.appendChild(tableItem);\n                menuTable.appendChild(line);\n             }\n\n            function onCellClick(token) {\n                var obj = {};\n                obj['eventName'] = 'vi_menu_select_module';\n                obj['token'] = token;\n                document.asyncSubmit(obj, function() {});\n            }","tag":"text"}]},{"tag":"style","children":[{"text":".vi-hintDiv {\n                min-height: 43px;\n            }\n            \n            .vi-hintText {\n                color: #888;\n                font-size: 15px;\n            }\n            \n            .vi-cell {\n                align-items: center;\n                background-color: #fff;\n                min-height: 43px;\n            }\n        \n            .cellContent {\n                flex-direction:row;\n                align-items: center;\n                width: 100%;\n            }\n        \n            .title-div {\n                flex: 1;\n            }\n        \n            .title-text {\n                flex: 1.0;\n                font-size: 17px;\n                color: #000;\n            }\n        \n            .arrow-div {\n                width:8px;\n                height:13px;\n            }\n        \n            .line-leftPadding {\n                margin-left: 15px;\n            }","tag":"text"}]}]},{"id":"body","onload":"init()","tag":"body","children":[{"id":"bodyContainer","tag":"div","children":[{"id":"mainBody","tag":"div","children":[{"id":"menuTable","tag":"div","css":"amc-v-box"}],"css":"amc-scroll-flex"}],"css":"mic-fullscreen"}],"onkeydown":"onKeyDown();","css":"mic-body-opacity"}]},"format":"JSON","tplVersion":"5.2.3"}